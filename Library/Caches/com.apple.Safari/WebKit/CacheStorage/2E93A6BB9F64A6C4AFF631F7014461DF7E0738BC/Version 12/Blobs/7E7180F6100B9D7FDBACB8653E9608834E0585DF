(window.webpackJsonp=window.webpackJsonp||[]).push([[18,1],{206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(172),u=f(n(51)),i=n(573),s=f(n(578)),l=f(n(696)),c=f(n(698));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleComment=function(e){return n.props.store.dispatch((0,i.postComment)(e))},n.handleReplyButton=function(e){return n.setState({replyTo:e})},n.state={top:0,comments:null,error:null,replyTo:null,loading:!0,adding:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.store.dispatch((0,i.fetchComments)(this.props.thread)),this.props.store.subscribe(this.onStoreChange.bind(this))}},{key:"onStoreChange",value:function(){var e=this.props.store.getState(),t=e.settings,n=e.comments;this.setState({comments:n.items[this.props.thread],loading:n.loading||e.cart.loading,adding:n.adding,error:n.error,user:e.auth.user,settings:t})}},{key:"render",value:function(){var e=this.props,t=e.thread,n=e.date,a=this.state,i=a.comments,f=a.error,d=a.settings,p=(a.newComment,a.replyTo),h=a.loading,m=a.adding,y=(a.top,a.user),_={},S=y&&(0,u.default)(y,"user_metadata.firstname")?(0,u.default)(y,"user_metadata.firstname")+" "+(0,u.default)(y,"user_metadata.lastname"):(0,u.default)(d,"name"),b=y&&(0,u.default)(y,"user_metadata.twitter")?(0,u.default)(y,"user_metadata.twitter"):(0,u.default)(d,"twitter");return S&&(_.name=S),b&&(_.twitter=b),h?(0,o.h)(s.default,null):(0,o.h)("div",{className:"row"},(0,o.h)("div",{className:"col col-7"},(0,o.h)(l.default,{comments:i,error:f,onReplyButton:this.handleReplyButton})),(0,o.h)("div",{className:"col col-5 comment-form__sticky"},(0,o.h)(c.default,r({},_,{onComment:this.handleComment,thread:t,date:n,replyTo:p,loading:m}))))}}]),t}();t.default=d},573:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setAdBlocked=t.search=t.addJobPostToCart=t.fetchCommentsCount=t.postComment=t.fetchComments=t.resendConfirmation=t.putOrder=t.clearOrder=t.setPaypalToOrder=t.setCCToOrder=t.cancelSubscription=t.subscribe=t.signup=t.initPaymentRequest=t.logout=t.recover=t.verifyEmailChangeToken=t.verifyRecoveryToken=t.verifyConfirmationToken=t.login=t.saveUserMetadata=t.changePassword=t.savePersonalDetails=t.getUser=t.addTicketToCart=t.addToCart=t.setDetailsToOrder=t.emptyCart=t.updateCartProps=t.updateCart=t.calculatePrice=t.fetchCart=t.addCoupon=t.makeDownload=t.fetchDownloads=t.fetchOrders=t.fetchOrder=t.fetchAds=t.fetchJobs=t.setSetting=t.checkRoute=t.index=t.client=t.auth=t.commerce=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=h(n(615)),o=h(n(616)),u=h(n(607)),i=h(n(51)),s=h(n(596)),l=h(n(608)),c=n(113),f=h(n(11)),d=h(n(56)),p=n(586);function h(e){return e&&e.__esModule?e:{default:e}}var m=t.commerce=new a.default({APIUrl:"/.netlify/commerce"}),y=t.auth=new o.default({APIUrl:"/.netlify/identity",setCookie:!0}),_=t.client=(0,l.default)("5RAJI8U6UH","c996d58ec6bf7789719889b76dc89aa1"),S=t.index=_.initIndex("smashingmagazine"),b=function(e){return e.jwt().then(function(t){e._claims=JSON.parse(atob(t.split(".")[1])),e.claims=function(){return e._claims};var n=e.app_metadata||{};return e.plan=n.subscription&&n.subscription.plan,e})},v=(t.checkRoute=function(e){return function(t){return t({type:f.default.CHECK_ROUTE,route:e})}},t.setSetting=function(e){return function(t){return t({type:f.default.SETTINGS_SET,settings:e})}}),C=(t.fetchJobs=function(t,n){var r=n().jobs;return r&&r.items&&0!==r.items.length&&r.isFetching?null:(t({type:f.default.REQUEST_JOBS_START}),e("/jobs/index.json").then(function(e){return e.json()}).then(function(e){return t({type:f.default.REQUEST_JOBS_SUCCESS,jobs:e})}).catch(function(e){return t({type:f.default.REQUEST_JOBS_FAIL,error:(0,c.formatErrorMessage)(e)})}))},function(e,t){t({type:f.default.HISTORY_GO,path:e}),window.history.replaceState({},"","/"+e+"/")}),g=(t.fetchAds=function(){return function(t){return t({type:f.default.REQUEST_ADS_START}),e(d.default.PROXY_URL+"friskies").then(function(e){return e.json()}).then(function(t){return e(d.default.PROXY_URL+"friskies").then(function(e){return e.json()}).then(function(e){return((0,i.default)(t,"ads")||[]).concat((0,i.default)(e,"ads")||[])})}).then(function(e){return t({type:f.default.REQUEST_ADS_SUCCESS,ads:e})}).catch(function(e){return t({type:f.default.REQUEST_ADS_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.fetchOrder=function(e){return function(t){m.setUser(y.currentUser()),t({type:f.default.REQUEST_ORDER_START}),m.orderDetails(e).then(function(e){return t({type:f.default.REQUEST_ORDER_SUCCESS,order:e})}).catch(function(e){return t({type:f.default.REQUEST_ORDER_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.fetchOrders=function(e){m.setUser(y.currentUser()),e({type:f.default.REQUEST_ORDERS_START}),m.orderHistory().then(function(t){return e({type:f.default.REQUEST_ORDERS_SUCCESS,orders:t.orders})}).catch(function(t){return e({type:f.default.REQUEST_ORDERS_FAIL,error:(0,c.formatErrorMessage)(t)})})},t.fetchDownloads=function(e){m.setUser(y.currentUser()),e({type:f.default.REQUEST_DOWNLOADS_START}),m.downloads().then(function(t){return e({type:f.default.REQUEST_DOWNLOADS_SUCCESS,downloads:t.downloads})}).catch(function(t){return e({type:f.default.REQUEST_DOWNLOADS_FAIL,error:(0,c.formatErrorMessage)(t)})})},t.makeDownload=function(e){return function(){m.downloadURL(e).then(function(e){var t=document.createElement("a");t.download=!0,t.href=e,document.body.appendChild(t),t.click(),t.remove()}).catch(function(){})}},t.addCoupon=function(e){return function(t){return t({type:f.default.ADD_COUPON_START}),m.setCoupon(e).then(function(n){t({type:f.default.ADD_COUPON_SUCCESS,code:e,coupon:n}),t({type:f.default.REQUEST_CART_SUCCESS,cart:m.getCart()})}).catch(function(e){return t({type:f.default.ADD_COUPON_FAIL,error:(0,c.formatErrorMessage)(e)})})}}),E=(t.fetchCart=function(e,t){var n=t(),r=n.cart,a=y.currentUser();if(e({type:f.default.REQUEST_CART_START}),!r||!r.isFetching){if((0,i.default)(n.order,"details.billingAddress.country")){var o=(0,i.default)(n.order,"details.billingAddress.country");o.includes("Czech")&&(o="Czech"),m.setCountry(o),m.setCurrency((0,c.currencyFromCountry)(o)||"USD")}r=m.getCart(),(0,i.default)(n.order,"coupon.code")&&r&&Object.keys(r.items).length>0&&e(g((0,i.default)(n.order,"coupon.code"))),a?b(a).then(function(t){e({type:f.default.GET_USER_SUCCESS,user:t}),m.setUser(t);var n=t.user_metadata||{};n.shippingAddress&&n.shippingAddress.country&&m.setCountry(n.shippingAddress.country),n.shippingAddress&&n.shippingAddress.country&&m.setCurrency((0,c.currencyFromCountry)(n.shippingAddress.country)||"USD"),e({type:f.default.REQUEST_CART_SUCCESS,cart:m.getCart()})}).catch(function(t){return e({type:f.default.REQUEST_CART_FAIL,error:(0,c.formatErrorMessage)(t)})}):(e({type:f.default.GET_USER_SUCCESS,user:null}),e({type:f.default.REQUEST_CART_SUCCESS,cart:m.getCart()}))}},t.calculatePrice=function(e,t){return function(n){return m.loadSettings().then(function(){return n({type:f.default.CALCULATE_MEMBER_PRICE_SUCCESS,price:m.calculatePrice(e,t?{app_metadata:{subscription:{plan:t}}}:null),item:e})})}},t.updateCart=function(e,t){return function(n){m.updateCart(e,t),n({type:f.default.UPDATE_CART_SUCCESS,cart:m.getCart(),item:{sku:e,quantity:t}})}},t.updateCartProps=function(e){return function(t){if(!e)return null;e.includes("Czech")&&(e="Czech"),m.setCountry(e),m.setCurrency((0,c.currencyFromCountry)(e)||"USD"),t({type:f.default.REQUEST_CART_SUCCESS,cart:m.getCart()})}},t.emptyCart=function(e){m.clearCart(),e({type:f.default.EMPTY_CART_SUCCESS,cart:m.getCart()})}),T=t.setDetailsToOrder=function(e,t){return function(n){n({type:f.default.ORDER_SET_DETAILS_SUCCESS,details:e}),t||C("checkout/payment",n)}},w=(t.addToCart=function(e){return function(t,n){var r=n().cart;(!r.items.hasOwnProperty(e.sku)||(0,c.adjustableQuantity)(r.items[e.sku].type))&&(t({type:f.default.ADD_TO_CART_START}),m.addToCart(e).then(function(n){t({type:f.default.ADD_TO_CART_SUCCESS,cart:n,item:e})}).catch(function(n){return t({type:f.default.ADD_TO_CART_FAIL,error:(0,c.formatErrorMessage)(n),item:e})}))}},t.addTicketToCart=function(e,t,n,r){return function(a,o){var u=o().auth,s=t.title.match(/\+/)?"combo":"conference";t.title.match(/Workshop/)&&(s="workshop");var l={path:e.path,sku:t.sku,quantity:n.length,meta:{event:e,attendees:n,type:s}};if(!u.user){var d=n[0],p=(0,i.default)(d,"email"),h=(0,i.default)(d,"firstname"),y=(0,i.default)(d,"lastname");a(T({email:p,shippingAddress:{firstname:h,lastname:y,firstName:h,lastName:y},billingAddress:{firstname:h,lastname:y,firstName:h,lastName:y}},1))}cart.items&&cart.items[t.sku]&&!r&&(l.meta.attendees=n.concat(cart.items[t.sku].meta&&cart.items[t.sku].meta.attendees||[]),l.quantity=l.meta.attendees.length,m.updateCart(t.sku,0)),r&&m.updateCart(t.sku,0),a({type:f.default.ADD_TO_CART_START}),m.addToCart(l).then(function(e){setTimeout(function(){a({type:f.default.ADD_TO_CART_SUCCESS,item:l,cart:e}),document.location.href="/checkout"},300)}).catch(function(e){return a({type:f.default.ADD_TO_CART_FAIL,error:(0,c.formatErrorMessage)(e),item:l})})}},t.getUser=function(e){var t=y.currentUser();if(t)return e({type:f.default.GET_USER_START}),b(t).then(function(t){return e({type:f.default.GET_USER_SUCCESS,user:t})}).catch(function(t){return e({type:f.default.GET_USER_FAIL,error:(0,c.formatErrorMessage)(t)})});e({type:f.default.GET_USER_FAIL,user:null})},t.savePersonalDetails=function(e){return function(t){var n=y.currentUser(),r={data:{}};return t({type:f.default.UPDATE_USER_START}),n.email!==e.email&&(r.email=e.email),r.data.twitter=e.twitter,r.data.firstname=e.firstname,r.data.lastname=e.lastname,n.update(r).then(function(e){return t({type:f.default.UPDATE_USER_SUCCESS,user:e,emailChanged:!!r.email})}).catch(function(e){return t({type:f.default.UPDATE_USER_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.changePassword=function(e){return function(t){var n=y.currentUser();return t({type:f.default.UPDATE_PASSWORD_START}),n.update(e).then(function(e){return t({type:f.default.UPDATE_PASSWORD_SUCCESS,user:e})}).catch(function(e){return t({type:f.default.UPDATE_PASSWORD_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.saveUserMetadata=function(e){return function(t){var n=y.currentUser();return t({type:f.default.UPDATE_USER_METADATA_START}),n.update({data:(0,s.default)(e,["email","confirmed"])}).then(function(e){return t({type:f.default.UPDATE_USER_METADATA_SUCCESS,user:e})}).catch(function(e){return t({type:f.default.UPDATE_USER_METADATA_FAIL,error:(0,c.formatErrorMessage)(e)})})}}),O=function(e,t){m.setUser(e);var n=localStorage.getItem("auth.return_to")||"/membership/";localStorage.removeItem("auth.return_to"),m.claimOrders().then(function(){return!t&&window.location.replace(n)}).catch(function(){return!t&&window.location.replace(n)})},R=(t.login=function(e){return function(t){t({type:f.default.LOGIN_START}),y.login(e.email,e.password,!0).then(function(e){t({type:f.default.LOGIN_SUCCESS,user:e}),O(e)}).catch(function(e){return t({type:f.default.LOGIN_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.verifyConfirmationToken=function(e){return function(t){t({type:f.default.VERIFICATION_START}),y.confirm(e).then(function(e){O(e),t({type:f.default.VERIFICATION_SUCCESS,user:e})}).catch(function(e){return t({type:f.default.VERIFICATION_FAIL,error:e})})}},t.verifyRecoveryToken=function(e){return function(t){t({type:f.default.VERIFICATION_START}),localStorage.setItem("auth.return_to","/membership/recover-password"),y.recover(e,!0).then(function(e){O(e),t({type:f.default.VERIFICATION_SUCCESS,user:e})}).catch(function(e){return t({type:f.default.VERIFICATION_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.verifyEmailChangeToken=function(e){return function(t){var n=y.currentUser();t({type:f.default.VERIFICATION_START}),n?n.update({email_change_token:e}).then(function(e){O(e),t({type:f.default.VERIFICATION_SUCCESS,user:e})}).catch(function(e){return t({type:f.default.VERIFICATION_FAIL,error:(0,c.formatErrorMessage)(e)})}):(localStorage.setItem("auth.return_to",document.location.pathname),window.location.replace("/auth/"))}},t.recover=function(e){return function(t){t({type:f.default.RECOVER_START}),y.requestPasswordRecovery(e.email).then(function(){window.location.replace("/auth/confirmation/?email="+e.email),t({type:f.default.RECOVER_SUCCESS})}).catch(function(e){return t({type:f.default.RECOVER_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.logout=function(e){var t=y.currentUser();e({type:f.default.LOGOUT_START}),t.logout().then(function(){return e({type:f.default.LOGOUT_SUCCESS,user:null})}).catch(function(t){return e({type:f.default.LOGOUT_FAIL,error:(0,c.formatErrorMessage)(t)})})},function(e){return p.stripe.createToken(p.cardElement,{name:e.name}).then(function(e){return(0,i.default)(e,"error")?Promise.reject(e.error):(0,i.default)(e,"token.id")}).catch(function(e){return(0,c.processStripeError)(e)})}),A=(t.initPaymentRequest=function(e,t){var n=t(),r=n.cart,a=n.order,o=(0,i.default)(a.details,"billingAddress.country")||(0,i.default)(a.details,"shippingAddress.country"),u=Object.keys(r.items).map(function(e){var t=r.items[e];return{label:""+t.title,amount:t.price.cents}});(0,i.default)(r,"memberDiscount.cents")&&u.push({label:"Membership discount ðŸ¦",amount:-(0,i.default)(r,"memberDiscount.cents")}),(0,i.default)(r,"couponDiscount.cents")&&u.push({label:"Coupon discount",amount:-(0,i.default)(r,"couponDiscount.cents")});try{var s=p.stripe.paymentRequest({country:(0,c.countryToCode)(o)||"US",currency:(0,i.default)(r,"total.currency").toLowerCase(),total:{label:"Total",amount:(0,i.default)(r,"total.cents")},displayItems:u});return s.on("token",function(t){var n=(0,i.default)(t,"token.id");return n?(e({type:f.default.ORDER_SET_CC_SUCCESS,key:n}),C("checkout/confirmation",e),t.complete("success")):t.complete("fail")}),s.canMakePayment().then(function(e){if(e){var t=document.querySelector(".stripe-button");t&&(t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),s.show()}),t.classList.remove("hidden"))}return e})}catch(e){}},function(e,t,n){var r=new u.default("");return e.jwt().then(function(a){return r.request("/.netlify/functions/membership",{headers:{Authorization:"Bearer "+a},method:"POST",body:JSON.stringify({plan:t,stripe_token:n})}).then(function(){return e.jwt(!0)}).then(function(){return e.getUserData()})})}),U=(t.signup=function(e,t,n,r){return function(a){a({type:f.default.SIGNUP_START}),y.signup(e,t,n||{}).then(function(){return y.login(e,t,!0).then(function(e){O(e),a({type:f.default.SIGNUP_SUCCESS,user:e}),r&&window.location.replace("/membership")})}).catch(function(e){return a({type:f.default.SIGNUP_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.subscribe=function(e){return function(t){var n=y.currentUser(),r=localStorage.getItem("auth.return_to")||null;return t({type:f.default.SUBSCRIBE_START}),R(e.cc).then(function(t){return n?A(n,e.plan,t):function(e,t){return y.login(e.email,e.password,!0).then(function(e){return O(e,!0),e}).catch(function(t){var n=(0,i.default)(t,"message")||(0,i.default)(t,"description")||(0,i.default)(t,"error_description");if(n&&n.match(/No user/))return y.signup(e.email,e.password,{firstname:e.firstname,lastname:e.lastname}).then(function(){return y.login(e.email,e.password,!0).then(function(e){return O(e,!0),e})});throw t})}(e).then(function(n){return A(n,e.plan,t)})}).then(function(){r&&(localStorage.removeItem("auth.return_to"),window.location.replace(r)),t({type:f.default.SUBSCRIBE_SUCCESS,plan:e.plan})}).catch(function(e){return t({type:f.default.SUBSCRIBE_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.cancelSubscription=function(e){var t=y.currentUser();e({type:f.default.SUBSCRIPTION_CANCELLATION_START});var n=new u.default("");return t.jwt().then(function(r){return n.request("/.netlify/functions/membership",{headers:{Authorization:"Bearer "+r},method:"DELETE",body:"{}"}).then(function(){return t.getUserData()}).then(function(){return e({type:f.default.SUBSCRIPTION_CANCELLATION_SUCCESS,plan:null})})}).catch(function(t){return e({type:f.default.SUBSCRIPTION_CANCELLATION_FAIL,error:(0,c.formatErrorMessage)(t)})})},t.setCCToOrder=function(e){return function(t){return t({type:f.default.ORDER_SET_CC_START,cc:e}),R(e).then(function(e){t({type:f.default.ORDER_SET_CC_SUCCESS,key:e}),C("checkout/confirmation",t)}).catch(function(e){return t({type:f.default.ORDER_SET_CC_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.setPaypalToOrder=function(e){return function(t){t({type:f.default.ORDER_SET_PAYPAL_SUCCESS,paypal:e}),C("checkout/confirmation",t)}},t.clearOrder=function(e){return e({type:f.default.ORDER_CLEAR})}),P=(t.putOrder=function(e,t){var n=t(),r=n.order,a=n.cart,o=n.auth;e({type:f.default.ORDER_CONFIRM_START}),m.order({email:r.details.email,shipping_address:(0,c.formatAddress)(r.details.shippingAddress),billing_address:(0,c.formatAddress)(r.details.billingAddress)}).then(function(t){return m.payment({order_id:t.order.id,amount:t.cart.total.cents,provider:r.paypal?"paypal":"stripe",stripe_token:r.key,paypal_payment_id:r.paypal&&r.paypal.paymentID,paypal_user_id:r.paypal&&r.paypal.payerID}).then(function(n){o.user&&e(w(r.details)),e(E),e(U),e({type:f.default.ORDER_CONFIRM_SUCCESS,transaction:Object.assign({},n,{order:t.order}),cart:a}),C("checkout/confirmation/"+(0,i.default)(t,"order.id"),e)})}).catch(function(t){return e({type:f.default.ORDER_CONFIRM_FAIL,error:(0,c.formatErrorMessage)(t)})})},t.resendConfirmation=function(e,t){return function(n){n({type:f.default.ORDER_RESEND_CONFIRMATION_START}),m.resendConfirmation(e,t).then(function(e){return n({type:f.default.ORDER_RESEND_CONFIRMATION_SUCCESS,result:e})}).catch(function(e){return n({type:f.default.ORDER_RESEND_CONFIRMATION_FAIL,error:(0,c.formatErrorMessage)(e)})})}},function(t,n){var r=(0,c.buildCommentsPath)(t);return n&&(r=r.replace(/\.json$/,".count.json")),e(r).then(function(e){return e.ok?e.json():Promise.reject(e)})});t.fetchComments=function(e){return function(t){t({type:f.default.COMMENTS_FETCH_START}),P(e).then(function(n){return t({type:f.default.COMMENTS_FETCH_SUCCESS,comments:n,thread:e})}).catch(function(e){return t({type:f.default.COMMENTS_FETCH_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.postComment=function(t){return function(n){n({type:f.default.COMMENTS_SUBMIT_START});var r=y.currentUser(),a=r?r.jwt().catch(null):Promise.resolve(null);return n(v({name:t.name,twitter:t.twitter})),a.then(function(a){var o={"Content-Type":"application/json"};a&&(o.Authorization="Bearer "+a),e("/gotell"+t.thread,{method:"POST",headers:o,body:JSON.stringify({author:t.name,body:t.message,twitter:t.twitter,email:r&&r.email,parent:t.parent})}).then(function(e){return e.ok?e.json():Promise.reject(e)}).then(function(){return P(t.thread)}).then(function(e){return n({type:f.default.COMMENTS_SUBMIT_SUCCESS,comments:e,thread:t.thread})}).catch(function(e){return n({type:f.default.COMMENTS_SUBMIT_FAIL,error:(0,c.formatErrorMessage)(e)})})})}},t.fetchCommentsCount=function(e){return function(t){t({type:f.default.COMMENTS_COUNT_START}),P(e,1).then(function(n){return t({type:f.default.COMMENTS_COUNT_SUCCESS,count:n.count,thread:e})}).catch(function(e){return t({type:f.default.COMMENTS_COUNT_FAIL,error:(0,c.formatErrorMessage)(e)})})}},t.addJobPostToCart=function(e){return function(t){var n=[];e.featured_addon&&n.push("featured"),e.tweet_addon&&n.push("tweet"),e.facebook_addon&&n.push("facebook");var a="full-time"===e.commitment?"job-posting-fulltime":"job-posting-freelance",o=r({},e);delete o.errors;var u={path:e.path,sku:a,quantity:1,meta:o,addons:n};return t({type:f.default.ADD_TO_CART_START}),m.addToCart(u).then(function(){window.location.replace("/checkout")}).catch(function(e){return t({type:f.default.ADD_TO_CART_FAIL,item:u,error:(0,c.formatErrorMessage)(e)})})}},t.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){n({type:f.default.SEARCH_START,query:e}),S.search(e,{hitsPerPage:15*(t+1),page:0},function(e,r){if(e)return n({type:f.default.SEARCH_FAIL,error:(0,c.formatErrorMessage)(e)});n({type:f.default.SEARCH_SUCCESS,results:r,page:t})})}},t.setAdBlocked=function(){return function(e){return e({type:f.default.AD_BLOCKED})}}}).call(this,n(174))},574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focus=function(){n.input.focus()},n.handleFocus=function(e){var t=n.props.onFocusChange;n.setState({focus:!0}),t&&t(!0,e)},n.handleBlur=function(e){var t=n.props.onFocusChange;!n.wasChanged||!e.target.value&&n.props.optional||n.validate(e.target.value),n.setState({focus:!1}),t&&t(!1,e)},n.handleInput=function(e){n.state.valid;var t=n.props.onInput;n.wasChanged=!0,!e.target.value&&n.props.optional||n.validate(e.target.value),t&&t(e)},n.handleToggleShowPassword=function(e){e.preventDefault(),n.setState({showPassword:!n.state.showPassword})},n.validate=function(e){var t=n.props,r=t.optional,a=t.pattern,o=e||n.props.value,u=[n.validatePresence,n.validatePattern];n.props.validations&&(u=u.concat(n.props.validations));var i=u.reduce(function(e,t){return e&&t(o,r,a)},!0);return n.setState({valid:i,validated:!0}),n.props.onValidate&&n.props.onValidate(i),i},n.wasChanged=!1,n.state={focus:!1,showPassword:!1,valid:!0,validated:!1},n.id=Math.random(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=Object.assign({},this.props),r=Object.assign({},e);return r.value!==this.input.value||(delete n.value,delete r.value,!(JSON.stringify(n)===JSON.stringify(r)&&JSON.stringify(this.state)===JSON.stringify(t)))}},{key:"componentDidMount",value:function(){this.props.value&&this.validate()}},{key:"validatePresence",value:function(e,t){return!0===t||!(null===e||void 0===e||e.hasOwnProperty("length")&&0===e.length||e.constructor===Object&&0===Object.keys(e).length)}},{key:"validatePattern",value:function(e,t,n){return!(!0!==t||!(null===e||void 0===e||e.hasOwnProperty("length")&&0===e.length||e.constructor===Object&&0===Object.keys(e).length))||!(n&&!RegExp(n).test(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.label,o=t.name,u=t.noName,i=t.type,s=t.value,l=t.optional,c=t.className,f=t.elClassName,d=t.style,p=t.children,h=t.onKeyPress,m=t.autoComplete,y=t.autoCorrect,_=t.autoCapitalize,S=t.spellCheck,b=t.pattern,v=t.maxLength,C=t.validateOnBlurOnly,g=t.onKeyDown,E=t.autoFocus,T=t.required,w=t.max,O=this.props.errorMessage||"Please enter a "+(r||o),R=this.state,A=R.focus,U=R.showPassword,P=R.valid,k=R.validated,I=["form__field",A?"focused":"blurred"];r&&I.push("form__field--floating"),c&&I.push(c),(A||s)&&I.push("float");var N="password"===i&&U?"text":i||"text",j=n||"el-"+this.id,D="textarea"===i?"textarea":"input",M=[],F={style:d,id:j,"aria-describedby":j+"-error","aria-invalid":P?"false":"true",name:u?null:o||r.toLowerCase().replace(/\s/g,"_"),"data-optional":l,onInput:this.handleInput,onKeyPress:h,onKeyDown:g,value:s,autoFocus:E,onFocus:this.handleFocus,onBlur:this.handleBlur,ref:function(t){e.input=t}};return T&&(F.required=T),m&&(F.autoComplete=m),y&&(F.autoCorrect=y),_&&(F.autoCapitalize=_),S&&(F.spellCheck=S),b&&(F.pattern=b),v&&(F.maxLength=v),w&&(F.max=w),this.props["aria-label"]&&(F["aria-label"]=this.props["aria-label"]),void 0!==s&&(F.value=s),"textarea"!==i&&(M.push("form__field__input"),F.type=N),A||!k||!P||l&&!s||(M.push("success"),I.push("success")),f&&M.push(f),F.className=M.join(" "),(0,a.h)("label",{role:"presentation",className:I.join(" ")},r&&(0,a.h)("label",{htmlFor:j,className:"form__field__label"},r),(0,a.h)("div",{className:"password"===i?"password-with-show-wrapper input-wrapper":"input-wrapper"},(0,a.h)(D,F),"password"===i&&(0,a.h)("label",{htmlFor:j+"-show-password",className:"show-password",onClick:this.handleToggleShowPassword},(0,a.h)("input",{id:j+"-show-password",type:"checkbox",className:"show-password__checkbox",checked:U}),(0,a.h)("span",null,U?"Hide":"Show")),p),!C&&!P&&(0,a.h)("span",{id:j+"-error","aria-live":"assertive",className:"error-msg"},O),C&&!P&&!A&&(0,a.h)("span",{id:j+"-error","aria-live":"assertive",className:"error-msg"},O))}}]),t}();t.default=o},575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=function(e){return e&&e.__esModule?e:{default:e}}(n(581)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleField=function(e){return function(t){var r={};r[e]=t.target.value,n.setState(r)}},n.handleToggle=function(e){return function(t){return n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,!n.state[e]))}},n.handleFocus=function(e){return function(t){var r=Object.assign(n.state.focus);r[e]=t,n.setState({focus:r})}},n.handleValidate=function(e){return function(t){var r=n.state.errors;r[e]=!t,n.setState({errors:r})}},n.handleSubmit=function(e){return!e.preventDefault()&&n.isValid()&&n.props.onSubmit&&n.props.onSubmit(n.state)},n.state={focus:{},errors:{}},n.validateFields=[],n.handleRef=n.handleRef.bind(n),n.isValid=n.isValid.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;return this.props.loading&&!e.loading&&(this.setState({saved:!0}),setTimeout(function(){t.setState({saved:!1})},3e3)),e}},{key:"componentDidMount",value:function(){[].forEach.call(document.querySelectorAll("input"),function(e){e.addEventListener("focus",function(){document.body.classList.add("no-tilting")})})}},{key:"handleRef",value:function(e){e&&{}.hasOwnProperty.call(e,"validate")&&this.validateFields.push(e.validate)}},{key:"isValid",value:function(){if(!this.base)return!0;this.validateFields.forEach(function(e){return e()});var e=-1===(0,o.default)(this.state.errors).indexOf(!0);return[].forEach.call(this.base.querySelectorAll(".error-msg"),function(e){e.classList.remove("animation-shake"),setTimeout(function(){return e.classList.add("animation-shake")},50)}),e}}]),t}();t.default=u},576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=function(e){return e&&e.__esModule?e:{default:e}}(n(579)),u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.shouldComponentUpdate=function(){return!1},e.handleButtonRef=function(t){e.laddaButton=t},e.updateLaddaInstance=function(t,n){n.text!==t.text&&(e.btn.querySelectorAll(".ladda-label")[0].innerHTML=t.text),n.color!==t.color&&(e.btn.classList.remove("btn--"+n.color),e.btn.classList.add("btn--"+t.color)),t.processing!==e.props.processing&&(t.processing?e.laddaInstance.start():e.laddaInstance.stop())},e.btn=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.laddaInstance=o.default.create(this.base)}},{key:"componentWillUnmount",value:function(){this.laddaInstance.remove()}},{key:"componentWillReceiveProps",value:function(e){this.updateLaddaInstance(e,this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.className,o=t.onClick,u=t.disabled,i=(t.processing,["btn","btn--"+(this.props.color||"green"),"btn--medium","auth__modal__btn","ladda-button"]);return r&&i.push(r),(0,a.h)("button",{ref:function(t){e.btn=t},disabled:u,className:i.join(" "),"data-style":"expand-right",onClick:o},(0,a.h)("span",{className:"ladda-label"},n))}}]),t}();t.default=u},578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return(0,a.h)("div",{className:"loader-wrapper","aria-hidden":"true"},(0,a.h)("div",{className:["search-loader",this.props.inverted?"":"search-loader--red"].join(" ")},(0,a.h)("span",{className:"loader"}),(0,a.h)("span",{className:"loader"}),(0,a.h)("span",{className:"loader"})))}}]),t}();t.default=o},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,a=null,o=null;window.Stripe&&(t.stripe=r=Stripe("pk_live_4a6o5tXVqFE97apgZblp0VXX"),t.stripeElements=a=r.elements({fonts:[{family:"Elena",src:'local("Elena"), local("elena"), url(https://d33wubrfki0l68.cloudfront.net/a978f759fa0230c1e590d1bdb5a1c03ceb538cec/fed6b/fonts/elenawebregular/elenawebregular.woff2)'},{family:"Mija",src:'local("Mija"), local("Mija"), url(https://d33wubrfki0l68.cloudfront.net/b324ee03d5048d2d1831100e323b0b6336ffce68/0445e/fonts/mijaregular/mija_regular-webfont.woff2)'}]}),t.cardElement=o=a.create("card",{hidePostalCode:!0,style:{base:{fontFamily:"Mija",fontSize:"18px","::placeholder":{color:"#aaa",fontFamily:"Elena",fontWeight:300,letterSpacing:"-0.25px",fontSize:"16px"}},complete:{fontWeight:"bold",color:"#20a12c"},invalid:{color:"#CC3428"}},classes:{base:"form__field__input",complete:"success",focus:"focused",invalid:"error",empty:"empty"}})),t.stripe=r,t.stripeElements=a,t.cardElement=o},696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=function(e){return e&&e.__esModule?e:{default:e}}(n(697)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggleAll=function(e){return!e.preventDefault()&&n.setState({showAll:!n.state.showAll})},n.handleReplyButton=function(e){return n.props.onReplyButton&&n.props.onReplyButton(e)},n.renderEmpty=function(){return(0,a.h)("div",null,(0,a.h)("p",null,"No comments have been posted yet. Please feel free to comment first!"),(0,a.h)("p",null,(0,a.h)("em",null,"Note: Make sure your comment is related to the topic of the article above. Let's start a personal and meaningful conversation!")))},n.renderShowAllButton=function(){return(0,a.h)("button",{className:"btn btn--medium btn--load-comments btn--blue",onClick:n.handleToggleAll},"Load all ",n.props.comments.length," commentsÂ â†“")},n.state={showAll:!1},n.handleToggleAll=n.handleToggleAll.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.comments,n=this.state.showAll,r=n?t:t&&t.slice(0,2);return(0,a.h)("div",{className:"article__comments","aria-live":"polite","aria-relevant":"additions"},(0,a.h)("h2",null,"â€” Comments"," ",(0,a.h)("span",{className:"comments__comment-count sup"},t?t.length:0)),t&&0===t.length&&this.renderEmpty(),r&&function(e){var t={};return r.map(function(e){var n=Object.assign({},e);if(t[n.id]=n,n.parent&&"0"!==n.parent){var r=t[n.parent];if(r)return r.children=r.children||[],r.children.push(n),n.parentComment=r,!1}return n}).filter(function(e){return e})}().map(function(t){return(0,a.h)(o.default,{key:t.id,comment:t,level:0,onReplyButton:e.handleReplyButton.bind(e)})}),!n&&t&&t.length>2&&this.renderShowAllButton())}}]),t}();t.default=u},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=i(n(114)),u=i(n(627));function i(e){return e&&e.__esModule?e:{default:e}}var s=new u.default.Renderer;s.image=function(e,t,n){return'<a rel="nofollow" href="'+e+'" target="_blank">'+(t||n)+"</a>"},s.link=function(e,t,n){return'<a rel="nofollow" href="'+e+'" target="_blank">'+(t||n)+"</a>"},u.default.setOptions({sanitize:!0,renderer:s});var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleReplyButton=function(e){return!e.preventDefault()&&n.props.onReplyButton&&n.props.onReplyButton(n.props.comment)},n.handleRef=function(e){return e&&Array.from(e.getElementsByTagName("code")).forEach(function(e){return window.Prism&&window.Prism.highlightElement(e)})},n.handleReplyButton=n.handleReplyButton.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"commentBody",value:function(){var e=this.props.comment,t=e.body;if(e.parentComment){var n=e.parentComment.author.replace(/[^\w\s]/g,"");return(0,u.default)(t).replace(/^\<p\>/,'<p><span class="comment__reply-to">@'+n+":</span>")}return(0,u.default)(t)}},{key:"renderUserpic",value:function(){var e=this.props.comment,t="https://www.gravatar.com/avatar/"+e.md5+".jpg?s=250&d=mm&r=g",n=(0,a.h)("div",{className:"author__image-wrapper tilt"},(0,a.h)("div",{className:"author__image"},(0,a.h)("img",{src:t,alt:e.author})));return e.twitter?(0,a.h)("a",{href:"https://twitter.com/"+e.twitter},n):n}},{key:"render",value:function(){var e=this,n=this.props,r=n.comment,u=n.level;return(0,a.h)("div",{className:"article__comment-wrapper"},(0,a.h)("figure",{className:"article__comment"+(r.verified?" article__comment-verified":"")},(0,a.h)("header",null,(0,a.h)("figure",{className:"author author--avatar-only"},this.renderUserpic()),(0,a.h)("span",null,r.twitter?(0,a.h)("a",{href:"https://twitter.com/"+r.twitter},r.author):r.author)," ","wrote",(0,a.h)("time",{datetime:(0,o.default)(r.date,"YYYY-MM-DD HH:mm")}," ","â€” ",(0,o.default)(r.date,"MMMM D, YYYY H:mm"))),(0,a.h)("div",{className:"comment__content"},(0,a.h)("p",{dangerouslySetInnerHTML:{__html:this.commentBody(r)},ref:this.handleRef})),u<3&&(0,a.h)("footer",null,(0,a.h)("button",{className:"btn btn--white btn--white--bordered btn--small",onClick:this.handleReplyButton},"Reply"))),r.children&&r.children.map(function(n){return(0,a.h)(t,{key:n.id,comment:n,level:u+1,onReplyButton:e.props.onReplyButton})}))}}]),t}();t.default=l},698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(172),o=l(n(51)),u=l(n(574)),i=l(n(576)),s=l(n(575));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={errors:{},textIndent:null,offset:null,twitter:e.twitter,name:e.name},n.handleSave=n.handleSave.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"handleSave",value:function(e){e.preventDefault();var t=this.props,n=t.thread,r=t.replyTo,a=this.state,o=a.message,u=a.name,i=a.twitter;this.isValid()&&this.props.onComment({message:o,name:u,twitter:i,thread:n,parent:r?r.id:null})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.loading&&!e.loading&&this.setState({saved:!0,message:""},function(){return setTimeout(function(){return t.setState({saved:!1})},3e3)}),(0,o.default)(this.props,"replyTo.id")!==(0,o.default)(e,"replyTo.id")){var n=document.querySelector(".comment__message-field textarea");setTimeout(function(){return n&&n.focus()},100)}return e}},{key:"render",value:function(){var e=this.props,t=e.replyTo,n=e.loading,r=this.state,o=r.errors,s=r.message,l=r.name,c=r.twitter,f=r.saved,d=n?"Posting...":f?"Submitted âœ“":"Post Comment";return(0,a.h)("form",{onSubmit:this.handleSave},(0,a.h)("h4",{className:"article__comments__form__desc"},"Leave a comment"),(0,a.h)("small",{class:"article__comments--notes"},(0,a.h)("span",null,"We use ",(0,a.h)("em",null,"GitHub Flavored Markdown")," for comments. E.g., you can call out code or a command within a sentence with single backticks (",(0,a.h)("code",null,"`command`"),"). To format code into its own distinct block, please use triple backticks (",(0,a.h)("code",null,"```codeÂ block```"),").")),(0,a.h)("div",{className:"comment__message-field"},(0,a.h)("div",{className:"comment__reply-to-container"},(0,a.h)(u.default,{label:t?"Your message to "+t.author:"Your message",type:"textarea",name:"message",value:s,pattern:"[\\s\\S]*",className:"comment__message-field",onInput:this.handleField("message"),error:o.message,onValidate:this.handleValidate("message"),ref:this.handleRef,errorMessage:"âš ï¸ï¸ â€‡Uh-oh, every Cat has something to say!"})),o.message&&(0,a.h)("span",{className:"error-msg"},o.message)),(0,a.h)(u.default,{label:"Your (real) name",name:"name",value:l,pattern:"[\\s\\S]*",className:"comment__name-field",onInput:this.handleField("name"),error:o.name,onValidate:this.handleValidate("name"),ref:this.handleRef,errorMessage:"âš ï¸ï¸ â€‡Uh-oh, we can not read your mind just yet."}),(0,a.h)(u.default,{label:"Your Twitter (e.g. 'smashingmag')",name:"twitter",value:c,pattern:"^[a-zA-Z0-9_]{1,15}$",className:"comment__twitter-field",onInput:this.handleField("twitter"),error:o.twitter,optional:!0,onValidate:this.handleValidate("twitter"),ref:this.handleRef,errorMessage:"âš ï¸ï¸ â€‡Your twitter seems to be... fishy! ðŸ "}),f&&(0,a.h)("p",{className:"comment__message-notification"},(0,a.h)("strong",null,"Yay, it worked!")," Your comment will go live straight after moderation. You are on fire today! ðŸŽŠ"),(0,a.h)("div",{className:"btn--lined"},(0,a.h)(i.default,{text:d,processing:n})))}}]),t}();t.default=c}}]);