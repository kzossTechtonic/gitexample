function ahf(a){if(a.D)return a.D;a.D=[];var b=iCb(a);a.D=Na(b,function(b){var c=FQd(a,b);if(O(c,12))return new kX(null,ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(O(c,12)));b=a.R.cd(pl.Ca(),ritz_api.RitzModelApi.getWorkbookRangeById(b,!1));return new kX(zm(b),null)});return a.D}function bhf(a,b,c){return ZA(cB(aB(XA(a).Fg),aB(XA(b).Fg),c))}function chf(a){var b=a.C.cloneNode(!1);a.qa().Ss(b,a.C);return b}
function dhf(a,b){var c=b.getContext("2d"),d=iN(a.D),e=a.D.hc(),f=yP(a.D),h=zP(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;XUb(a.C,c,0,0,0,0,d.width,h);XUb(a.C,c,e,h,e,h,f,k)}function ehf(a,b,c){PK.call(this,131);this.D=a;this.J=b;this.C=c}v(ehf,PK);ehf.prototype.Rd=function(){var a=new Ftb;P(a,1,this.D);P(a,4,this.C);var b=ySd(this.J);P(a,3,b);return a};function fhf(a,b){PK.call(this,40);this.C=b}y(fhf,PK);fhf.prototype.Y1=function(){qC.Sb()};fhf.prototype.Rd=function(){var a=new Orb;P(a,1,this.C);return a};fhf.prototype.Mg=sf;fhf.prototype.Ej=m("Filter view deleted");function ghf(a,b){PK.call(this,132);this.C=a;this.D=b}v(ghf,PK);ghf.prototype.Rd=function(){var a=new Htb;P(a,1,this.C);P(a,2,this.D);return a};ghf.prototype.Mg=m(!1);function hhf(a,b,c){PK.call(this,41);this.C=b;this.D=c}y(hhf,PK);hhf.prototype.Rd=function(){var a=new Qrb;P(a,1,this.C);P(a,2,this.D);return a};hhf.prototype.Mg=sf;hhf.prototype.Ej=m("Filter view duplicated");function ihf(a,b,c){PK.call(this,43);this.D=b;this.C=c}y(ihf,PK);ihf.prototype.Rd=function(){var a=new EH;P(a,1,this.D);a.Od(this.C);return a};ihf.prototype.Mg=sf;ihf.prototype.Ej=function(){return"Filter view renamed to "+this.C};function jhf(a,b,c,d){PK.call(this,70);this.O=a.xc();this.D=b;this.J=c;this.C=d}y(jhf,PK);jhf.prototype.Rd=function(){var a=new ysb;P(a,1,this.O);P(a,4,this.D);var b=ySd(this.J);P(a,3,b);return a};jhf.prototype.Ej=function(){return"Filter range updated to "+(this.C+".")};function khf(a,b,c){b=c||b;var d=a.THb;a=U;c='<div class="'+V("waffle-filter-bar-rangepill")+" "+V("goog-inline-block")+'" tabindex="0"><span class="'+V("waffle-filter-bar-rangepill-range")+" "+V("goog-inline-block")+'"></span>';d=d={enabled:"true",xf:"waffle-filter-bar-rangepill-close",hidden:d};b=U(tA(Iy({UK:"docs-icon-close-thin"},d),b));return a(c+T(b)+"</div>")};function lhf(a,b,c,d,e){S.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}v(lhf,S);lhf.prototype.Da=function(){this.Db(ez(khf,{THb:this.D}));this.qa().ze(this.Ja("waffle-filter-bar-rangepill-range"),mhf(this))};lhf.prototype.Ka=function(){S.prototype.Ka.call(this);this.getHandler().gg(this.Pa(),Ae,this.L);if(!this.D){var a=new Nx("",new Lx,this.qa());this.Ha(a);var b=this.Ja("waffle-filter-bar-rangepill-close");a.Ya(b);Zw(b,"Remove",void 0);this.getHandler().V(a,"action",this.J)}};
lhf.prototype.L=function(a){a.target!=this.Ja("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new qe("yh",this))};lhf.prototype.J=function(a){this.dispatchEvent(new qe("zh",this));a.stopPropagation()};function mhf(a){return wRd(a.H,a.C)?xRd(a.H,a.C,!1):"#REF"};function nhf(){var a='<div class="'+V("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+V("waffle-filter-bar-header")+" "+V("waffle-filter-bar-range-label")+" "+V("goog-inline-block")+'">';a=a+"Ranges:"+('</span><div class="'+V("waffle-filter-bar-range-filter-pills-container")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-bar-add-range-filter-button")+" "+V("goog-inline-block")+'">');a=a+"Add new range"+('</div><input class="'+V("jfk-textinput")+
" "+V("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+V("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return U(a)};function ohf(a,b,c,d){S.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new S;this.Ha(this.L);this.H=new Nx(void 0,wA.getInstance(),d);this.Ha(this.H);this.F=new OB(void 0,d);this.Ha(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.ea=!1}v(ohf,S);n=ohf.prototype;
n.Da=function(){this.Db(ez(nhf));this.L.Ya(this.Ja("waffle-filter-bar-range-filter-pills-container"));this.H.Ya(this.Ja("waffle-filter-bar-add-range-filter-button"));this.H.Qa(!0);var a=this.Ja("waffle-filter-bar-range-pill-input");this.F.Ya(a)};n.Ka=function(){S.prototype.Ka.call(this);var a=new mx,b=this.F.Pa();nx(a,b);b=new ey(b);this.getHandler().V(this.L,"yh",this.ipb).V(this.L,"zh",this.Lnb).V(a,"key",this.tMb).V(b,"focusin",this.rMb).V(b,"focusout",this.sMb).V(this.H,"action",this.ajb)};
n.Ic=function(){var a=this;this.L.Bd(!0);Ia(phf(this),function(b){a.L.Ha(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,qhf(a,a.D.Pa()))})};n.ipb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&rhf(this);this.D=a.target;this.F.setValue(mhf(this.D));qhf(this,this.D.Pa());this.C="waffle-filter-bar-range-filter-pill-edit"};
n.Lnb=function(a){var b=aL(this.J)?this.J.getActiveGrid().Dc().Of:null;if(b&&(b=HJ(b))){a=a.target;var c={};X8a.Sb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};n.ajb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&rhf(this);var a=this.J.getActiveGrid().Dc().Jc();this.F.setValue(rL(a));qhf(this,this.H.Pa());this.C="waffle-filter-bar-range-section-mode-add"};
function qhf(a,b){var c=a.F.Pa();lw(c,nw(b).width);a.qa().Ss(c,b);Q(b,!1);Q(c,!0);b=new pk(function(){return RB(a.F)});a.Aa(b);b.start()}function rhf(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(Q("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.Pa():a.H.Pa(),!0),Q(a.F.Pa(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}n.tMb=function(a){13==a.keyCode?(shf(this),rhf(this),this.O.Rb(3)):27==a.keyCode&&(rhf(this),this.Ic(),this.O.Rb(3));a.stopPropagation()};
n.sMb=function(){this.getParent().getVisible()&&(shf(this),rhf(this))};n.rMb=function(){this.O.Rb(2)};function phf(a){var b=aL(a.J)?a.J.getActiveGrid().Dc().Of:null;if(!b||!HJ(b))return[];var c=iCb(b),d=1==c.length;return Na(ahf(b),function(b,f){return new lhf(c[f++],b,a.R,d)})}
function shf(a){if(!a.ea){var b=xb(a.F.getValue());if((b=zRd(a.R,b))&&wRd(a.R,b)){a.ea=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=HJ(jM(a.J).Of),d={};W8a.Sb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},yC.Sb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.ea=!1}}};function thf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function uhf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function vhf(a,b,c){b=c||b;a=a.GHb;c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:'+('</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
V("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+T(sA({enabled:!0,title:Ly("Options"),id:"waffle-filter-bar-options",Ml:"waffle-filter-bar-options",FC:My(""+T(rA({icon:Ly("docs-icon-img docs-icon-settings-white")},b)))}));c+=T(E_a({id:"waffle-filter-bar-close",xf:"waffle-filter-bar-close"},b))+"</div></div>";return U(c)};function whf(a,b,c,d,e,f){yZ.call(this,f);this.pb=a;this.Bb=b;this.ub=c;this.Wa=d;this.Ia=e;this.R=null;this.CJ=new OB(void 0,f);this.Ha(this.CJ);this.$a=null;this.Ea=new qA;this.Ha(this.Ea);this.ea=null;this.fC=new OB(void 0,f);this.Ha(this.fC);if(this.O=M(L(),"femrfifv"))this.Ba=new ohf(a,d,e),this.Ha(this.Ba);this.D=null;this.Ta=new vx("Rename");this.Va=new vx("Update Range");this.Oa=new vx("Duplicate");this.Ma=new vx("Delete");this.Ra=new vx("Learn more");this.H=new Qx(null,null,wA.getInstance(),
f);this.H.Xc(this.Ta);this.O||this.H.Xc(this.Va);this.H.Xc(this.Oa);this.H.Xc(this.Ma);this.H.Xc(new Fx);this.H.Xc(this.Ra);this.Ha(this.H);this.C=new Nx(void 0,wA.getInstance(),f);this.Ha(this.C)}y(whf,yZ);n=whf.prototype;n.cEa=m("waffle-slidingdialog-filterbar");n.ZVa=function(){return ez(vhf,{GHb:this.O})};
n.Ka=function(){whf.xa.Ka.call(this);var a=this.Ja("waffle-filter-bar-name-input");this.CJ.Ya(a);Rv(a,"label-input-label");this.Ea.Ya(a);this.R=this.Ja("waffle-filter-bar-name-readonly");this.$a=this.Ja("waffle-filter-bar-name-label");this.O?this.Ba.render(this.Ja("waffle-filter-bar-range-section-container")):(a=this.Ja("waffle-filter-bar-range-input"),this.fC.Ya(a),this.ea=this.Ja("waffle-filter-bar-range-readonly"),xhf(this));this.H.Ya(this.Ja("waffle-filter-bar-options"));this.H.Qa(!0);this.C.Ya(this.Ja("waffle-filter-bar-close"));
this.C.Qa(!0);yhf(this);zhf(this)};
function zhf(a){var b=FJ(a.Bb),c=new mx;nx(c,a.CJ.getElement());var d=new ey(a.CJ.getElement()),e=new mx;nx(e,a.C.getElement());a.getHandler().V(a.C,"action",a.A4b).V(b,["Ab","Cb","Db"],a.Ic).V(c,"key",a.Evb).V(e,"key",a.lDb).V(d,"focusin",a.aWa).V(d,"focusout",a.Dvb);uC.Tb(pr,function(){return yhf(a)});b=new cx(void 0,void 0,!0,VA.getInstance());fx(b,a.Ta,uC);fx(b,a.Oa,sC);fx(b,a.Ma,rC);fx(b,a.Ra,(eu(),Rs),void 0,a.OEa);a.O||(c=new mx,nx(c,a.fC.getElement()),d=new ey(a.fC.getElement()),a.getHandler().V(c,
"key",a.C4b).V(d,"focusin",a.aWa).V(d,"focusout",a.B4b),yC.Tb(pr,function(){return xhf(a)}),fx(b,a.Va,yC))}n.setVisible=function(a,b){whf.xa.setVisible.call(this,a,b);a&&this.Ic();!a&&this.D&&(this.D.setVisible(!1),this.D=null)};
n.$Oa=function(){var a=Ahf(this);if(a&&(a=KJ(a),this.ub.C[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=ez(a?uhf:thf);this.D=new IT(this.qa().getElement("waffle-filter-bar-promo"));this.Aa(this.D);this.D.setPosition(1,0);this.D.setContent(b);$x(this.D.D,!1);this.D.gE=!0;this.D.render();b=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Ae.V(b,this.u9,!1,this);b=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Ae.V(b,this.dJa,!1,this);
this.getHandler().V(this.D,"hide",this.u9);vQ(this.ub,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};n.u9=function(){if(this.D){var a=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Ae.Lc(a,this.u9,!1,this);a=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Ae.Lc(a,this.dJa,!1,this);this.getHandler().Lc(this.D,"hide",this.u9);this.D.setVisible(!1);this.D=null}};
n.Ic=function(){var a=Ahf(this);if(a){var b=HJ(a);if(b){this.H.setVisible(!KJ(a));Q(this.$a,!KJ(a));b=ritz_api.RitzModelApi.getFilterName(b);var c="Name: "+b;this.Ea.setValue(b);this.qa().ze(this.R,b);Mv(this.R,c);this.O?this.Ba.Ic():(a=ahf(a)[0],a=wRd(this.Ia,a)?xRd(this.Ia,a,!1):"#REF",b="Range: "+a,this.fC.setValue(a),this.qa().ze(this.ea,a),Mv(this.ea,b))}}};n.A4b=function(){this.dispatchEvent("close");Bhf(this)};
n.Evb=function(a){13==a.keyCode?(Chf(this),Bhf(this)):27==a.keyCode&&(this.Ic(),a.stopPropagation(),Bhf(this))};n.C4b=function(a){13==a.keyCode?(Dhf(this),Bhf(this)):27==a.keyCode&&(this.Ic(),a.stopPropagation(),Bhf(this))};n.lDb=function(a){a.shiftKey||9!=a.keyCode||(Bhf(this),a.stopPropagation())};function Bhf(a){a.Wa.Rb(3)}n.aWa=function(){this.Wa.Rb(2)};n.Dvb=function(){this.getVisible()&&Chf(this)};n.B4b=function(){this.getVisible()&&Dhf(this)};
function yhf(a){var b=uC.isEnabled();Q(a.CJ.getElement(),b);Q(a.R,!b)}function xhf(a){var b=yC.isEnabled();Q(a.fC.getElement(),b);Q(a.ea,!b)}function Chf(a){var b=Ahf(a);if(b){b=HJ(b);var c=ritz_api.RitzModelApi.getFilterName(b),d=xb(a.CJ.getValue());c==d?a.Ic():(a={},uC.Sb((a.name=d,a["filter-view-id"]=b,a)))}}function Dhf(a){var b=Ahf(a);if(b){var c=HJ(b),d=xb(a.fC.getValue());(d=zRd(a.Ia,d))?ahf(b)[0].equals(d)?a.Ic():(a={},yC.Sb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Ic()}}
n.dJa=function(){(eu(),Rs).Sb(this.OEa())};n.OEa=function(){var a={};return a.defaultHelpArticleId="3540681",a};n.focus=function(){RB(this.CJ)};function Ahf(a){return aL(a.pb)?a.pb.getActiveGrid().Dc().Of:null};function Ehf(a,b,c,d,e,f){xZ.call(this,"waffle-filterbar-id",e);this.O=x(this.FZb,this);this.H=a;this.L=b;this.D=c;this.oa=d;this.F=f;this.J=new bv(this);this.Aa(this.J);this.J.subscribe(sC,"action",this.dpb).subscribe(rC,"action",this.Knb).subscribe(uC,"action",this.xzb).subscribe(yC,"action",this.wEb).subscribe(W8a,"action",this.z4b).subscribe(X8a,"action",this.Mnb)}y(Ehf,xZ);n=Ehf.prototype;n.FZb=function(){this.C.setVisible(!0)};
n.Knb=function(){var a=Fhf(this),b=HJ(a.Of);b&&this.D.C(new fhf(a,b))};n.dpb=function(){var a=Fhf(this),b=HJ(a.Of);b&&this.D.C(new hhf(a,b,!this.F.H.C))};n.xzb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&xb(a))&&a.length){var c=Fhf(this);this.D.C(new ihf(c,b,a))}else this.C.Ic()}else RB(this.C.CJ)};n.wEb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=Fhf(this),d=xRd(this.F.Ra,a,!1);this.D.C(new jhf(c,b,a,d))}else RB(this.C.fC)};
n.z4b=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=Fhf(this);this.D.C(new ehf(b,a,KJ(c.Of)))}else RB(this.C.fC)};n.Mnb=function(a){a?this.D.C(new ghf(a["filter-view-id"],a["range-filter-id"])):RB(this.C.fC)};n.LZ=function(){return new whf(this.H,this.L,this.oa,this.R,this.F.Ra)};n.zz=function(){Ehf.xa.zz.call(this);this.getHandler().V(this.C,"close",this.kEb);this.yG()};n.Sua=m("waffle-filterbar-id");n.kEb=function(){var a=Fhf(this);this.D.C(new uL(a,null))};
n.setVisible=function(a,b){this.C.setVisible(a,b)};function Fhf(a){return a.H.getActiveGrid().Dc()};function Ghf(a,b,c,d,e,f,h){H.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.ea=e;this.R=f;this.oa=h;this.H=new Nf(this);this.Aa(this.H);this.C=this.D=null;a=FJ(this.J);this.H.V(a,["Ab","Bb","Cb","Db"],this.D4b).V(this.F,["V","ka"],this.F4b).V(this.F,["U","la"],this.E4b);qC.Tb(rr,x(this.yjb,this));Hhf(this,!1)}y(Ghf,H);function Hhf(a,b){if(a.F.C)if(aL(a.F)){var c=jM(a.F).Of;c=JJ(c)&&!nCb(c);Ihf(a,c,b)}else Ihf(a,!1,b)}
function Ihf(a,b,c){a.C&&a.C.stop();b&&!a.D&&(a.D=new Ehf(a.F,a.J,a.O,a.ea,a.R,a.oa),a.Aa(a.D),a.H.V(a.D,"end",a.okb),a.D.show());if(a.D&&(a.D.setVisible(b,c),c)){if(a=ZK(a.L))c=a.Ba.Bb,b=b?1:0,bhf("#555555","#f3f3f3",b),bhf("#363636","#ddd",b),bhf("#516374","#8fb1e8",b),bhf("white","black",b),bhf("white","green",b),c.C.color=bhf("#3c3c3c","#ccc",b),FVb(a.Ba,a.Ba.L,null,!0,!0);Hwd()}}n=Ghf.prototype;n.okb=function(){Hwd();this.C&&this.C.play(!0)};n.D4b=function(){Hhf(this,!1)};
n.F4b=function(){Ihf(this,!1,!0)};n.E4b=function(){Hhf(this,!0)};n.yjb=function(){this.C&&this.C.stop();var a=ZK(this.L);if(a){a=a.Ba;var b=chf(a);Xv(b,"z-index",3);Xv(b,"pointer-events","none");b.removeAttribute("moz-opaque");dhf(a,b);this.C=cXa(b,.35);this.H.Kc(this.C,"end",x(function(){Bu(b);I(this.C);this.C=null},this))}};function Jhf(){H.call(this)}y(Jhf,DK);Jhf.prototype.C=function(){return Ghf};JK("filterbar",Jhf);
