this["card-300x250"]=this["card-300x250"]||{},this["card-300x250"].js=function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){if(!((t=""+t).length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var o=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*ht;case"days":case"day":case"d":return o*dt;case"hours":case"hour":case"hrs":case"hr":case"h":return o*ut;case"minutes":case"minute":case"mins":case"min":case"m":return o*lt;case"seconds":case"second":case"secs":case"sec":case"s":return o*ct;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o}}}}function o(t){return t>=dt?Math.round(t/dt)+"d":t>=ut?Math.round(t/ut)+"h":t>=lt?Math.round(t/lt)+"m":t>=ct?Math.round(t/ct)+"s":t+"ms"}function n(t){return i(t,dt,"day")||i(t,ut,"hour")||i(t,lt,"minute")||i(t,ct,"second")||t+" ms"}function i(t,e,o){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+o:Math.ceil(t/e)+" "+o+"s"}var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),s=t(function(t){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)}),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},p=function(t){return"object"===(void 0===t?"undefined":c(t))?null!==t:"function"==typeof t},m=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},y=function(t){try{return!!t()}catch(t){return!0}},g=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),w=a.document,b=p(w)&&p(w.createElement),v=function(t){return b?w.createElement(t):{}},C=!g&&!y(function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a}),x=function(t,e){if(!p(t))return t;var o,n;if(e&&"function"==typeof(o=t.toString)&&!p(n=o.call(t)))return n;if("function"==typeof(o=t.valueOf)&&!p(n=o.call(t)))return n;if(!e&&"function"==typeof(o=t.toString)&&!p(n=o.call(t)))return n;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,k={f:g?Object.defineProperty:function(t,e,o){if(m(t),e=x(e,!0),m(o),C)try{return S(t,e,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[e]=o.value),t}},P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=g?function(t,e,o){return k.f(t,e,P(1,o))}:function(t,e,o){return t[e]=o,t},M={}.hasOwnProperty,O=function(t,e){return M.call(t,e)},B=0,A=Math.random(),F=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++B+A).toString(36))},z=t(function(t){var e=F("src"),o=Function.toString,n=(""+o).split("toString");s.inspectSource=function(t){return o.call(t)},(t.exports=function(t,o,i,r){var s="function"==typeof i;s&&(O(i,"name")||T(i,"name",o)),t[o]!==i&&(s&&(O(i,e)||T(i,e,t[o]?""+t[o]:n.join(String(o)))),t===a?t[o]=i:r?t[o]?t[o]=i:T(t,o,i):(delete t[o],T(t,o,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||o.call(this)})}),E=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},q=function(t,e,o){if(E(t),void 0===e)return t;switch(o){case 1:return function(o){return t.call(e,o)};case 2:return function(o,n){return t.call(e,o,n)};case 3:return function(o,n,i){return t.call(e,o,n,i)}}return function(){return t.apply(e,arguments)}},j=function t(e,o,n){var i,r,c,l,u=e&t.F,d=e&t.G,h=e&t.S,f=e&t.P,p=e&t.B,m=d?a:h?a[o]||(a[o]={}):(a[o]||{}).prototype,y=d?s:s[o]||(s[o]={}),g=y.prototype||(y.prototype={});d&&(n=o);for(i in n)c=((r=!u&&m&&void 0!==m[i])?m:n)[i],l=p&&r?q(c,a):f&&"function"==typeof c?q(Function.call,c):c,m&&z(m,i,c,e&t.U),y[i]!=c&&T(y,i,l),f&&g[i]!=c&&(g[i]=c)};a.core=s,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var I=j,L={}.toString,G=function(t){return L.call(t).slice(8,-1)},_=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==G(t)?t.split(""):Object(t)},D=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},N=function(t){return _(D(t))},Y=Math.ceil,R=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?R:Y)(t)},U=Math.min,Z=function(t){return t>0?U(X(t),9007199254740991):0},K=Math.max,$=Math.min,H=function(t,e){return(t=X(t))<0?K(t+e,0):$(t,e)},W=a["__core-js_shared__"]||(a["__core-js_shared__"]={}),J=function(t){return W[t]||(W[t]={})}("keys"),Q=function(t){return function(e,o,n){var i,r=N(e),a=Z(r.length),s=H(n,a);if(t&&o!=o){for(;a>s;)if((i=r[s++])!=i)return!0}else for(;a>s;s++)if((t||s in r)&&r[s]===o)return t||s||0;return!t&&-1}}(!1),V=function(t){return J[t]||(J[t]=F(t))}("IE_PROTO"),tt=function(t,e){var o,n=N(t),i=0,r=[];for(o in n)o!=V&&O(n,o)&&r.push(o);for(;e.length>i;)O(n,o=e[i++])&&(~Q(r,o)||r.push(o));return r},et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ot=Object.keys||function(t){return tt(t,et)},nt={f:Object.getOwnPropertySymbols},it={f:{}.propertyIsEnumerable},rt=function(t){return Object(D(t))},at=Object.assign,st=!at||y(function(){var t={},e={},o=Symbol(),n="abcdefghijklmnopqrst";return t[o]=7,n.split("").forEach(function(t){e[t]=t}),7!=at({},t)[o]||Object.keys(at({},e)).join("")!=n})?function(t,e){for(var o=rt(t),n=arguments.length,i=1,r=nt.f,a=it.f;n>i;)for(var s,c=_(arguments[i++]),l=r?ot(c).concat(r(c)):ot(c),u=l.length,d=0;u>d;)a.call(c,s=l[d++])&&(o[s]=c[s]);return o}:at;I(I.S+I.F,"Object",{assign:st});var ct=1e3,lt=60*ct,ut=60*lt,dt=24*ut,ht=365.25*dt,ft=function(t,i){return i=i||{},"string"==typeof t?e(t):i.long?n(t):o(t)},pt=t(function(t,e){function o(){return e.colors[a++%e.colors.length]}function n(){var t;try{t=r.debug}catch(t){}return t}(e=t.exports=function(t){function n(){}function r(){var t=r,n=+new Date,a=n-(i||n);t.diff=a,t.prev=i,t.curr=n,i=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=o());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(o,n){if("%%"===o)return o;c++;var i=e.formatters[n];if("function"==typeof i){var r=s[c];o=i.call(t,r),s.splice(c,1),c--}return o}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s)),(r.log||e.log||console.log.bind(console)).apply(t,s)}n.enabled=!1,r.enabled=!0;var a=e.enabled(t)?r:n;return a.namespace=t,a.groupCollapsed=r.groupCollapsed||e.groupCollapsed||console.groupCollapsed.bind(console),a.group=r.group||e.group||console.group.bind(console),a.groupEnd=r.groupEnd||e.groupEnd||console.groupEnd.bind(console),a}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var o=(t||"").split(/[\s,]+/),n=o.length,i=0;i<n;i++)o[i]&&("-"===(t=o[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var o,n;for(o=0,n=e.skips.length;o<n;o++)if(e.skips[o].test(t))return!1;for(o=0,n=e.names.length;o<n;o++)if(e.names[o].test(t))return!0;return!1},e.log=function(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.group=function(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.group&&Function.prototype.apply.call(console.group,console,arguments)},e.groupCollapsed=function(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.groupCollapsed&&Function.prototype.apply.call(console.groupCollapsed,console,arguments)},e.groupEnd=function(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.groupEnd&&Function.prototype.apply.call(console.groupEnd,console,arguments)},e.formatArgs=function(){var t=arguments,o=this.useColors;if(t[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+t[0]+(o?"%c ":" ")+"+"+e.humanize(this.diff),!o)return t;var n="color: "+this.color,i=0,r=0;return(t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1)))[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(r=i))}),t.splice(r,0,n),t},e.save=function(t){try{null==t?r.removeItem("debug"):r.debug=t}catch(t){}},e.load=n,e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.humanize=ft,e.names=[],e.skips=[],e.formatters={};var i,r,a=0;r="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return undefined}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(n())}),mt=(t(function(t,e){!function(t,o){o(e);var n={};t.PubSub=n,o(n)}("object"===("undefined"==typeof window?"undefined":c(window))&&window||r,function(t){function e(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function o(t){return function(){throw t}}function n(t,e,n){try{t(e,n)}catch(t){setTimeout(o(t),0)}}function i(t,e,o){t(e,o)}function r(t,e,o,r){var a,s=l[e],c=r?i:n;if(l.hasOwnProperty(e))for(a in s)s.hasOwnProperty(a)&&c(s[a],t,o)}function a(t,e,o){return function(){var n=String(t),i=n.lastIndexOf(".");for(r(t,t,e,o);-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),r(t,n,e,o)}}function s(t){for(var o=String(t),n=Boolean(l.hasOwnProperty(o)&&e(l[o])),i=o.lastIndexOf(".");!n&&-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),n=Boolean(l.hasOwnProperty(o)&&e(l[o]));return n}function c(t,e,o,n){var i=a(t,e,n);return!!s(t)&&(!0===o?i():setTimeout(i,0),!0)}var l={},u=-1;t.publish=function(e,o){return c(e,o,!1,t.immediateExceptions)},t.publishSync=function(e,o){return c(e,o,!0,t.immediateExceptions)},t.subscribe=function(t,e){if("function"!=typeof e)return!1;l.hasOwnProperty(t)||(l[t]={});var o="uid_"+String(++u);return l[t][o]=e,o},t.clearAllSubscriptions=function(){l={}},t.clearSubscriptions=function(t){var e;for(e in l)l.hasOwnProperty(e)&&0===e.indexOf(t)&&delete l[e]},t.unsubscribe=function(t){var e,o,n,i="string"==typeof t&&l.hasOwnProperty(t),r=!i&&"string"==typeof t,a="function"==typeof t,s=!1;{if(!i){for(e in l)if(l.hasOwnProperty(e)){if(o=l[e],r&&o[t]){delete o[t],s=t;break}if(a)for(n in o)o.hasOwnProperty(n)&&o[n]===t&&(delete o[n],s=!0)}return s}delete l[t]}}})}),pt("banner:core")),yt=function t(e,o){var n=o.el;l(this,t);this.el=n,this.manifest=e,this.platform=document.body.dataset.platform,document.addEventListener("click",function(t){window.open(window.clickTag)}),mt("Core Initialized")},gt=function(){function t(e,o,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;l(this,t),this.segmentDistance=e,this.tailLength=o;for(var s=0,c=1;c<r.length;c++)s+=this.segmentDistance*Math.sqrt(Math.pow(r[c][0]-r[c-1][0],2)+Math.pow(r[c][1]-r[c-1][1],2));this.segments=s/this.segmentDistance+1;var u="";r.forEach(function(t){u+=t[0]*e+n+","+(t[1]*e+i)+" "}),u=u.trim(),this.line=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.line.setAttributeNS(null,"stroke","#fff"),this.line.setAttributeNS(null,"stroke-width",a),this.line.setAttributeNS(null,"fill","none"),this.line.setAttributeNS(null,"stroke-miterlimit","50"),this.line.setAttributeNS(null,"points",u),this.line.style.strokeDasharray=this.segmentDistance*this.tailLength+" "+this.segments*this.segmentDistance,this.setProgress(0)}return u(t,[{key:"setTailLength",value:function(t){this.tailLength=t,this.tailLengthChanged=!0}},{key:"setProgress",value:function(t){var e=(this.segmentDistance*this.segments+this.tailLength*this.segmentDistance*2)*(1-t)+(this.tailLength*this.segmentDistance+this.segmentDistance)*t;this.line.style.strokeDashoffset=e,this.tailLengthChanged&&(this.tailLengthChanged=!1,this.line.style.strokeDasharray=this.segmentDistance*this.tailLength+" "+this.segments*this.segmentDistance)}},{key:"getLine",value:function(){return this.line}}]),t}(),wt=new(function(){function t(){l(this,t)}return u(t,[{key:"preload",value:function(t,e){var o,n,i=t.length,r=0;for(o=0;o<t.length;o++)(n=new Image).onload=function(){++r>=i&&e()},n.src=t[o]}}]),t}()),bt=pt("banner:card-animation"),vt=window.manifest.width+"x"+window.manifest.height+"--"+window.manifest.concept,Ct="jpg",xt=function(t){function e(t,o,n){o.preload;var i=o.config,r=n.worldStart,a=n.worldFly,s=n.camera,c=n.photo1,u=n.photo2;l(this,e);var d=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{el:document.querySelector(".banner")}));return d.config=i,d.sizeTransforms={worldStart:r,worldFly:a,camera:s,photo1:c,photo2:u},bt("Manifest",window.manifest,"Config",d.config),d.preloadFiles=[window.manifest.width+"x"+window.manifest.height+"--begin-mask."+Ct,window.manifest.width+"x"+window.manifest.height+"--end-mask."+Ct,vt+"--photo-1."+Ct,vt+"--photo-1-mask."+Ct,vt+"--photo-2."+Ct,vt+"--photo-2-mask."+Ct,"card-texture.png","card-chip.svg","card-name.svg","cta-arrow.svg","uber-logo.svg","visa-logo.svg","flare.png"],TweenLite.defaultEase=Power1.easeInOut,d.dom={banner:document.querySelector(".banner"),viewport:document.querySelector(".viewport"),camera1:document.querySelectorAll(".camera")[0],camera2:document.querySelectorAll(".camera")[1],world:document.querySelector(".world"),photoCamera:document.querySelector(".photo--camera"),photo1:document.querySelector(".photo--1"),photo2:document.querySelector(".photo--2"),photo1Color:document.querySelector(".photo--1 .photo--bit-color"),photo2Color:document.querySelector(".photo--2 .photo--bit-color"),lighting1:document.querySelector(".card--lighting--1"),lighting2:document.querySelector(".card--lighting--2"),bitCover1:document.querySelector(".bit-cover--1"),bitCover2:document.querySelector(".bit-cover--2"),cardBits:document.querySelector(".cardBits"),photoBits:document.querySelector(".photoBits"),photoCopyContainer:document.querySelector(".photoBits .copy-container"),cardDepth:document.querySelector(".card--depth"),cardFlare:document.querySelector(".card--flare"),cardFlareBottom:document.querySelector(".card--flare-bottom"),bitLine:document.querySelector(".bit-line"),photoFadeGradient:document.querySelector(".photo-fade-gradient"),photoFadeGradientStop:document.querySelector(".photo-fade-gradient-stop"),backgroundCopyFadeGradient:document.querySelector(".end-text .fade-gradient"),backgroundCopyFadeGradientStop:document.querySelector(".end-text .fade-gradient-stop"),startCopy:document.querySelector(".start-text"),startCopyFadeGradient:document.querySelector(".start-text .fade-gradient"),startCopyFadeGradientStop:document.querySelector(".start-text .fade-gradient-stop"),backgroundBits:document.querySelector(".backgroundBits"),cta:document.querySelector(".learn-more-cta"),legal:document.querySelector(".legal"),endShadow:document.querySelector(".end-shadow"),photoBitMaskImage:document.querySelector("#photoMask4 image"),backgroundBitMaskImage:document.querySelector("#backgroundImageMask image")},d.dom.backgroundBitMaskImage.setAttribute("xlink:href",window.manifest.width+"x"+window.manifest.height+"--begin-mask."+Ct),d.initBitLines(),d.initTransforms(),d.initActions(),d.animateBanner(),d.browserFixes(),bt("Initialized"),d}return h(e,yt),u(e,[{key:"browserFixes",value:function(){var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Safari")>-1;this.safari=e&&!t,this.safari&&(this.dom.photoBits.style.transform="translateY(-"+Math.floor(.02*window.manifest.height)+"px) translateZ(0) scale(1)")}},{key:"animateBanner",value:function(){var t=this;this.cardColorCycle=this.initCardColorCycle({}),this.photoColorCycle=this.initPhotoColorCycle(),this.backgroundColorCycle=this.initBackgroundColorCycle(),this.cardColorCycle.play(),wt.preload(this.preloadFiles,function(){TweenMax.to(t.dom.banner,.25,{opacity:1}),TweenMax.delayedCall(.25,function(){t.triggerAction("intro")})})}},{key:"initCardColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.card.rotationDegrees,this.manifest.data.size.colorCycle.card.offset);return new TimelineMax({repeat:-1,paused:!0}).fromTo(this.dom.cardBits.querySelector("linearGradient"),2,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"initPhotoColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.photo.rotationDegrees,this.manifest.data.size.colorCycle.photo.offset);return new TimelineMax({repeat:-1,paused:!0}).fromTo(this.dom.photoBits.querySelector("linearGradient"),1.5,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"initBackgroundColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.background.rotationDegrees,this.manifest.data.size.colorCycle.background.offset);return new TimelineMax({repeat:-1,paused:!0}).fromTo(this.dom.backgroundBits.querySelector("linearGradient"),2,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"getGradientTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=e%1*(Math.cos(t*Math.PI/180)/o);return{from:"translate("+(1/o-1+n)+", 0) rotate("+t+")",to:"translate("+(1/Math.cos(t*Math.PI/180)/o+1/o-1+n)+", 0) rotate("+t+")"}}},{key:"initBitLines",value:function(){this.bitline1=new gt(36,4,28,15,[[4,4],[7,4],[7,3],[9,3]]),this.bitline2=new gt(36,3,28,15,[[9,3],[12,3]]),this.bitline3=new gt(36,4,28,15,[[12,3],[10,3],[10,4],[4,4]]),this.photoBitline1=this.config.photoBitline1,this.photoBitline2=this.config.photoBitline2,this.dom.cardBits.querySelector("mask").appendChild(this.bitline1.getLine()),this.dom.cardBits.querySelector("mask").appendChild(this.bitline2.getLine()),this.dom.cardBits.querySelector("mask").appendChild(this.bitline3.getLine()),this.dom.photoBits.querySelector("#photoMask").appendChild(this.photoBitline1.getLine()),this.dom.photoBits.querySelector("#photoMask").appendChild(this.photoBitline2.getLine())}},{key:"initTransforms",value:function(){this.camera={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0},this.cameraReset=Object.assign({},this.camera),this.world=Object.assign({},{x:0,y:-50,z:-800,rotationX:0,rotationY:0,rotationZ:0},this.sizeTransforms.worldStart),this.worldFly=Object.assign({},{toPhoto1:{x:0,y:50,z:120,rotationX:45,rotationY:30,rotationZ:-15},toPhoto2:{x:-50,y:50,z:250,rotationX:60,rotationY:60,rotationZ:-15},toEnding:{x:0,y:-160,z:-1400,rotationX:3,rotationY:-4,rotationZ:5}},this.sizeTransforms.worldFly),this.screenSpace={photoCamera:{rotationX:0,rotationY:0,rotationZ:0,x:0,y:0,z:0},photo:{x:"-50%",y:"-50%",z:0,scale:1}},this.depthEnding={x:3,y:0,z:0,scale:1},this.photo1=Object.assign({},{x:"-32%",y:"-76%",z:0,scale:.025},this.sizeTransforms.photo1),this.photo2=Object.assign({},{x:"4.2%",y:"-76%",z:0,scale:.025},this.sizeTransforms.photo2),this.light1={x:"-50%",opacity:.75},this.light2={x:"-50%",y:"-25%"},TweenMax.set(this.dom.camera1,d({},this.camera)),TweenMax.set(this.dom.camera2,d({},this.camera)),TweenMax.set(this.dom.world,d({},this.world)),TweenMax.set(this.dom.photoCamera,d({},this.photoCamera)),TweenMax.set(this.dom.photo1,d({},this.photo1)),TweenMax.set(this.dom.photo2,d({},this.photo2)),TweenMax.set(this.dom.bitCover1,d({},this.photo1,{scale:this.photo1.scale+.005})),TweenMax.set(this.dom.bitCover2,d({},this.photo2,{scale:this.photo2.scale+.005})),TweenMax.set(this.dom.lighting1,d({},this.light1)),TweenMax.set(this.dom.lighting2,d({},this.light2))}},{key:"initActions",value:function(){var t=this,e={inPhoto1:.7,inPhoto2:.7},o={intro:3,toPhoto1:2.5,outPhoto1:1,toPhoto2:2,outPhoto2:1,toEnding:4};o.inPhoto1=o.toPhoto1*(1-e.inPhoto1),o.inPhoto2=o.inPhoto1,this.actions={intro:function(){return t.timelineCardIntro(o.intro).to(t.dom.lighting2,1,{x:"0%",opacity:0},0).to(t.dom.lighting1,5,{x:"0%"},0).add(t.timelineToPhoto(1,o.toPhoto1,e.inPhoto1),.5).add(t.timelineBitLine(t.bitline1,3.5),0).play()},toPhoto1:function(){return t.timelineToPhoto(1,o.toPhoto1,e.inPhoto1).play()},inPhoto1:function(){return TweenMax.set(t.dom.photoCamera,d({},t.world)),t.timelineInPhoto(1,o.inPhoto1).play()},outPhoto1:function(){(new TimelineMax).add(t.cameraTransform(d({},t.sizeTransforms.camera.outPhoto1,{ease:Power2.easeInOut}),{duration:1.5}),0).add(t.cameraTransform(d({},t.cameraReset,{ease:Power2.easeInOut}),{duration:1.5})).play();return t.timelineOutPhoto(1,o.outPhoto1).play()},toPhoto2:function(){return t.timelineToPhoto(2,o.toPhoto2,e.inPhoto2).add(t.timelineBitLine(t.bitline2,2),0).play()},inPhoto2:function(){return TweenMax.set(t.dom.photoCamera,d({},t.world)),t.timelineInPhoto(2,o.inPhoto2).play()},outPhoto2:function(){(new TimelineMax).add(function(){TweenMax.set(t.dom.backgroundBits,{opacity:0}),t.dom.backgroundBitMaskImage.setAttribute("xlink:href",window.manifest.width+"x"+window.manifest.height+"--end-mask."+Ct),t.backgroundColorCycle.play()},0).add(t.cameraTransform(d({},t.sizeTransforms.camera.outPhoto2,{ease:Power2.easeInOut}),{duration:1.5}),0).add(t.cameraTransform(d({},t.cameraReset,{ease:Power2.easeInOut}),{duration:3})).to(t.dom.backgroundBits,4,{opacity:1},0).add(t.timelineBackgroundEndFade(),0).play();return t.timelineOutPhoto(2,o.outPhoto2).play()},toEnding:function(){var e=new TimelineMax({onComplete:function(){t.onActionComplete("toEnding")}});return e.add(t.worldTransform(d({},t.worldFly.toEnding,{ease:Power2.easeInOut}),{duration:o.toEnding},{})).add(function(){t.safari||TweenLite.to(t.dom.lighting1,3,{x:"-50%"},0)}).to(t.dom.lighting1,3,{opacity:0},2).add(t.timelineBitLine(t.bitline3,5),0).to(t.dom.endShadow,3,{opacity:1},"-=3").fromTo(t.dom.cardDepth,1,{background:"#111111"},d({},t.depthEnding,{background:"#05cda6"}),"-=4").add(function(){t.backgroundColorCycle.pause(),t.cardColorCycle.pause()}),e}},this.triggers={},this.completedActions={}}},{key:"timelineToPhoto",value:function(t,e,o){var n=this,i=new TimelineMax({onComplete:function(){n.onActionComplete("toPhoto"+t)}});return i.add(this.worldTransform(d({},this.worldFly["toPhoto"+t],{ease:Power2.easeInOut}),{duration:e},{timeline:i,percent:o,actionKey:"inPhoto"+t})),i}},{key:"timelineInPhoto",value:function(t,e){var o=this,n=new TimelineMax({onUpdate:function(){n.progress()>=.8&&!o.completedActions["inPhoto"+t]&&o.onActionComplete("inPhoto"+t)}}).add(function(){o.showTextMask(t)}).to(this.dom.photoCamera,0,{visibility:"visible",immediateRender:!1},0).to(this.dom["photo"+t],0,{visibility:"visible",immediateRender:!1},0).to(this.dom["photo"+t],e,d({},this.screenSpace.photo),0).to(this.dom.photoCamera,e,d({},this.screenSpace.photoCamera),0).to(this.dom["bitCover"+t],.05,{opacity:1},0).to(this.dom["photo"+t+"Color"],1,{opacity:0},0).add(function(){o.cardColorCycle.pause(),o.photoColorCycle.play()},"-=1.5").add(this.timelinePhotoBitFadeGradient(2),"-=1.5").add(this.timelineBitLine(this["photoBitline"+t],2.5),"-=1");return n}},{key:"timelineOutPhoto",value:function(t,e){var o=this,n=new TimelineMax({onComplete:function(){o.onActionComplete("outPhoto"+t)}});return n.add(function(){o.photoColorCycle.pause(),o.cardColorCycle.play()},0).to(this.dom.photoCamera,e,d({},this.worldFly["toPhoto"+t]),0).to(this.dom["photo"+t],e,d({},this["photo"+t],{z:0}),0).to(this.dom["photo"+t+"Color"],1,{opacity:1},0).to(this.dom.photoCamera,0,{visibility:"hidden",immediateRender:!1}).to(this.dom["photo"+t],0,{visibility:"hidden",immediateRender:!1}).to(this.dom["bitCover"+t],0,{visibility:"hidden",immediateRender:!1}),n}},{key:"timelineCardIntro",value:function(t){var e=this;return new TimelineMax({onComplete:function(){e.onActionComplete("intro")}}).fromTo(this.dom.cardFlare,.4,{scaleX:.5},{y:175,opacity:1,ease:Power1.easeIn,scaleY:3,scaleX:.125},0).to(this.dom.cardFlare,.4,{y:405,opacity:0,ease:Power1.easeOut,scaleY:1,scaleX:.5,rotation:-10}).fromTo(this.dom.cardFlareBottom,.3,{scaleY:.5,rotation:10},{rotation:0,x:100,opacity:1,ease:Power1.easeIn,scaleX:4,scaleY:.085},"-=0.35").to(this.dom.cardFlareBottom,.2,{x:250,opacity:0,ease:Power1.easeOut,scaleX:1,scaleY:.15}).add(this.timelineStartCopyFadeGradient(.6*t),"-=1.5")}},{key:"timelineBitLine",value:function(t,e){var o={t:0};return(new TimelineMax).to(o,e,{t:1,onUpdate:function(){t.setProgress(o.t)}})}},{key:"timelinePhotoBitFadeGradient",value:function(t){var e=this,o={offset:0};return(new TimelineMax).to(o,t,{offset:100,onUpdate:function(){e.dom.photoFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.photoFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.photoFadeGradientStop.setAttribute("offset",o.offset+"%")}})}},{key:"timelineEndCopyFadeGradient",value:function(t){var e=this,o={offset:0};return(new TimelineMax).to(o,t,{offset:100,ease:Linear.easeNone,onUpdate:function(){e.dom.backgroundCopyFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.backgroundCopyFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.backgroundCopyFadeGradientStop.setAttribute("offset",o.offset+"%")}})}},{key:"timelineStartCopyFadeGradient",value:function(t){var e=this,o={offset:0},n=window.manifest.data.size.introTextFadeOffset;return void 0===n&&(n="-=0.5"),(new TimelineMax).to(o,t/1.2,{offset:100,ease:Sine.easeIn,onUpdate:function(){e.dom.startCopyFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.startCopyFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.startCopyFadeGradientStop.setAttribute("offset",o.offset+"%")}}).to(this.dom.startCopy,1.5,{opacity:0},n)}},{key:"timelineBackgroundEndFade",value:function(){return(new TimelineMax).to(this.dom.banner,2,{backgroundColor:"#f5f5f5"},0).add(this.timelineEndCopyFadeGradient(1),1.5).to(this.dom.cta,.75,{y:"0%"},1.75).to(this.dom.legal,.5,{opacity:"1"})}},{key:"showTextMask",value:function(t){this.dom["photo"+t].appendChild(this.dom.photoBits),this.dom.photoBitMaskImage.setAttribute("xlink:href",vt+"--photo-"+t+"-mask."+Ct);for(var e=this.dom.photoCopyContainer.querySelectorAll(".photo-copy"),o=0;o<e.length;o++){var n=e[o];n.parentNode.removeChild(n)}this.manifest.data.size["headline"+t].align&&"right"===this.manifest.data.size["headline"+t].align?this.dom.photoCopyContainer.style["text-anchor"]="end":this.dom.photoCopyContainer.style["text-anchor"]="start";for(var i=this.manifest.data.copy[t].split("<br>"),r=0;r<i.length;r++){var a=i[r],s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttributeNS(null,"x",this.manifest.data.size["headline"+t].x),s.setAttributeNS(null,"y",this.manifest.data.size["headline"+t].y),s.setAttributeNS(null,"transform","translate(0, "+this.manifest.data.size["headline"+t].lineHeight*r+")"),s.setAttributeNS(null,"class","photo-copy"),s.innerHTML=a,this.dom.photoCopyContainer.appendChild(s)}this.dom.photoFadeGradient.setAttribute("x1","-100%"),this.dom.photoFadeGradient.setAttribute("x2","0%"),this.dom.photoFadeGradientStop.setAttribute("offset","0%");for(var c=document.querySelectorAll(".text-mask"),l=0;l<c.length;l++){var u=c[l];u.classList.contains("photoBitline"+t)?u.style.display="inline":u.style.display="none"}}},{key:"triggerAction",value:function(t){bt("Triggering Action",t),this.triggers[t]=!0,this.actions[t]()}},{key:"onActionComplete",value:function(t){var e=this;switch(bt("Action Complete",t),this.completedActions[t]=!0,t){case"inPhoto1":setTimeout(function(){e.triggerAction("outPhoto1")},500);break;case"outPhoto1":this.triggerAction("toPhoto2");break;case"inPhoto2":setTimeout(function(){e.triggerAction("outPhoto2")},500);break;case"outPhoto2":this.triggerAction("toEnding")}}},{key:"transform",value:function(t,e,o,n){var i=this,r=o.duration,a=n.timeline,s=n.percent,c=n.actionKey;return(new TimelineMax).to(this[t],r,d({},e,{onUpdate:function(){TweenMax.set(i.dom[t],d({},i[t])),void 0!==c&&a.progress()>=s&&!i.triggers[c]&&i.triggerAction(c)}}))}},{key:"worldTransform",value:function(t,e,o){var n=e.duration,i=o.timeline,r=o.percent,a=o.actionKey;return this.transform("world",t,{duration:n},{timeline:i,percent:r,actionKey:a})}},{key:"cameraTransform",value:function(t,e){var o=this,n=e.duration;return(new TimelineMax).to(this.camera,n,d({},t,{onUpdate:function(){TweenMax.set(o.dom.camera1,d({},o.camera)),TweenMax.set(o.dom.camera2,d({},o.camera))}}))}}]),e}(),St=pt("banner:card-300x250");return new(function(t){function e(){l(this,e);var t=[],o=void 0;switch(window.manifest.concept){case"awareness":o={photoBitline1:new gt(window.manifest.data.size.photoBits.gridSize,10,11,7,[[2,9],[2,10],[12,10]],1),photoBitline2:new gt(window.manifest.data.size.photoBits.gridSize,4,11,7,[[0,10],[4,10]],1)};break;case"consideration":o={photoBitline1:new gt(window.manifest.data.size.photoBits.gridSize,10,11,7,[[2,9],[2,10],[12,10]],1),photoBitline2:new gt(window.manifest.data.size.photoBits.gridSize,6,11,7,[[0,8],[6,8],[6,9]],1)};break;case"conversion":o={photoBitline1:new gt(window.manifest.data.size.photoBits.gridSize,4,11,7,[[9,9],[12,9]],1),photoBitline2:new gt(window.manifest.data.size.photoBits.gridSize,6,11,7,[[0,8],[6,8],[6,9]],1)}}var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,window.manifest,{preload:t,config:o},{worldStart:{},worldFly:{toEnding:{x:0,y:-160,z:-1400,rotationX:3,rotationY:-4,rotationZ:5}},camera:{outPhoto1:{rotationY:5},outPhoto2:{z:-10,rotationY:-2}},photo1:{},photo2:{}}));return St("Initialized"),n}return h(e,xt),e}())}();