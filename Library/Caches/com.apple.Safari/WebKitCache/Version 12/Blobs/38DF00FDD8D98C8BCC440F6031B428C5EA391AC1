this["card-160x600"]=this["card-160x600"]||{},this["card-160x600"].js=function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var p=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),y=t(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},i=function(t){return"object"===(void 0===t?"undefined":o(t))?null!==t:"function"==typeof t},s=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},h=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=p.document,f=i(l)&&i(l.createElement),m=!h&&!d(function(){return 7!=Object.defineProperty((t="div",f?l.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),w=Object.defineProperty,g={f:h?Object.defineProperty:function(t,e,o){if(s(t),e=function(t,e){if(!i(t))return t;var o,n;if(e&&"function"==typeof(o=t.toString)&&!i(n=o.call(t)))return n;if("function"==typeof(o=t.valueOf)&&!i(n=o.call(t)))return n;if(!e&&"function"==typeof(o=t.toString)&&!i(n=o.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(e,!0),s(o),m)try{return w(t,e,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[e]=o.value),t}},b=h?function(t,e,o){return g.f(t,e,{enumerable:!((n=1)&n),configurable:!(2&n),writable:!(4&n),value:o});var n}:function(t,e,o){return t[e]=o,t},v={}.hasOwnProperty,x=function(t,e){return v.call(t,e)},S=0,C=Math.random(),k=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++S+C).toString(36))},T=t(function(t){var r=k("src"),e="toString",o=Function[e],a=(""+o).split(e);y.inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,o,n){var i="function"==typeof o;i&&(x(o,"name")||b(o,"name",e)),t[e]!==o&&(i&&(x(o,r)||b(o,r,t[e]?""+t[e]:a.join(String(e)))),t===p?t[e]=o:n?t[e]?t[e]=o:b(t,e,o):(delete t[e],b(t,e,o)))})(Function.prototype,e,function(){return"function"==typeof this&&this[r]||o.call(this)})}),P=function(n,i,t){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(n),void 0===i)return n;switch(t){case 1:return function(t){return n.call(i,t)};case 2:return function(t,e){return n.call(i,t,e)};case 3:return function(t,e,o){return n.call(i,t,e,o)}}return function(){return n.apply(i,arguments)}},M="prototype",O=function t(e,o,n){var i,r,a,s,d=e&t.F,h=e&t.G,l=e&t.P,c=e&t.B,u=h?p:e&t.S?p[o]||(p[o]={}):(p[o]||{})[M],f=h?y:y[o]||(y[o]={}),m=f[M]||(f[M]={});for(i in h&&(n=o),n)a=((r=!d&&u&&void 0!==u[i])?u:n)[i],s=c&&r?P(a,p):l&&"function"==typeof a?P(Function.call,a):a,u&&T(u,i,a,e&t.U),f[i]!=a&&b(f,i,s),l&&m[i]!=a&&(m[i]=a)};p.core=y,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var B,F,q=O,z={}.toString,L=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==(e=t,z.call(e).slice(8,-1))?t.split(""):Object(t);var e},A=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},I=function(t){return L(A(t))},j=Math.ceil,G=Math.floor,_=function(t){return isNaN(t=+t)?0:(0<t?G:j)(t)},E=Math.min,D=Math.max,N=Math.min,Y=t(function(t){var e="__core-js_shared__",o=p[e]||(p[e]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:y.version,mode:"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})})("keys"),X=(B=!1,function(t,e,o){var n,i,r,a,s=I(t),d=0<(n=s.length)?E(_(n),9007199254740991):0,h=(r=d,(i=_(i=o))<0?D(i+r,0):N(i,r));if(B&&e!=e){for(;h<d;)if((a=s[h++])!=a)return!0}else for(;h<d;h++)if((B||h in s)&&s[h]===e)return B||h||0;return!B&&-1}),Z=Y[F="IE_PROTO"]||(Y[F]=k(F)),U="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),R=Object.keys||function(t){return function(t,e){var o,n=I(t),i=0,r=[];for(o in n)o!=Z&&x(n,o)&&r.push(o);for(;e.length>i;)x(n,o=e[i++])&&(~X(r,o)||r.push(o));return r}(t,U)},K={f:Object.getOwnPropertySymbols},H={f:{}.propertyIsEnumerable},V=Object.assign,W=!V||d(function(){var t={},e={},o=Symbol(),n="abcdefghijklmnopqrst";return t[o]=7,n.split("").forEach(function(t){e[t]=t}),7!=V({},t)[o]||Object.keys(V({},e)).join("")!=n})?function(t,e){for(var o=Object(A(t)),n=arguments.length,i=1,r=K.f,a=H.f;i<n;)for(var s,d=L(arguments[i++]),h=r?R(d).concat(r(d)):R(d),l=h.length,c=0;c<l;)a.call(d,s=h[c++])&&(o[s]=d[s]);return o}:V;q(q.S+q.F,"Object",{assign:W});var J=t(function(t,e){t.exports=function(){return function(){}}}),Q=(t(function(t,n){!function(t,e){e(n);var o={};e(t.PubSub=o)}("object"===("undefined"==typeof window?"undefined":o(window))&&window||e,function(o){var d={},n=-1;function h(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function s(t,e,o){try{t(e,o)}catch(t){setTimeout((n=t,function(){throw n}),0)}var n}function l(t,e,o){t(e,o)}function c(t,e,o,n){var i,r=d[e],a=n?l:s;if(d.hasOwnProperty(e))for(i in r)r.hasOwnProperty(i)&&a(r[i],t,o)}function i(t,e,o,n){var i,r,a,s=(i=t,r=e,a=n,function(){var t=String(i),e=t.lastIndexOf(".");for(c(i,i,r,a);-1!==e;)e=(t=t.substr(0,e)).lastIndexOf("."),c(i,t,r,a)});return!!function(t){for(var e=String(t),o=Boolean(d.hasOwnProperty(e)&&h(d[e])),n=e.lastIndexOf(".");!o&&-1!==n;)n=(e=e.substr(0,n)).lastIndexOf("."),o=Boolean(d.hasOwnProperty(e)&&h(d[e]));return o}(t)&&(!0===o?s():setTimeout(s,0),!0)}o.publish=function(t,e){return i(t,e,!1,o.immediateExceptions)},o.publishSync=function(t,e){return i(t,e,!0,o.immediateExceptions)},o.subscribe=function(t,e){if("function"!=typeof e)return!1;d.hasOwnProperty(t)||(d[t]={});var o="uid_"+String(++n);return d[t][o]=e,o},o.clearAllSubscriptions=function(){d={}},o.clearSubscriptions=function(t){var e;for(e in d)d.hasOwnProperty(e)&&0===e.indexOf(t)&&delete d[e]},o.unsubscribe=function(t){var e,o,n,i="string"==typeof t&&d.hasOwnProperty(t),r=!i&&"string"==typeof t,a="function"==typeof t,s=!1;if(!i){for(e in d)if(d.hasOwnProperty(e)){if(o=d[e],r&&o[t]){delete o[t],s=t;break}if(a)for(n in o)o.hasOwnProperty(n)&&o[n]===t&&(delete o[n],s=!0)}return s}delete d[t]}})}),J("banner:core")),$=function t(e,o){var n=o.el;c(this,t);this.el=n,this.manifest=e,this.platform=document.body.dataset.platform,document.addEventListener("click",function(t){window.open(window.clickTag)}),Q("Core Initialized")},tt=function(){function h(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2;c(this,h),this.segmentDistance=e,this.tailLength=t;for(var a=0,s=1;s<i.length;s++)a+=this.segmentDistance*Math.sqrt(Math.pow(i[s][0]-i[s-1][0],2)+Math.pow(i[s][1]-i[s-1][1],2));this.segments=a/this.segmentDistance+1;var d="";i.forEach(function(t){d+=t[0]*e+o+","+(t[1]*e+n)+" "}),d=d.trim(),this.line=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.line.setAttributeNS(null,"stroke","#fff"),this.line.setAttributeNS(null,"stroke-width",r),this.line.setAttributeNS(null,"fill","none"),this.line.setAttributeNS(null,"stroke-miterlimit","50"),this.line.setAttributeNS(null,"points",d),this.line.style.strokeDasharray=this.segmentDistance*this.tailLength+" "+this.segments*this.segmentDistance,this.setProgress(0)}return n(h,[{key:"setTailLength",value:function(t){this.tailLength=t,this.tailLengthChanged=!0}},{key:"setProgress",value:function(t){var e=(this.segmentDistance*this.segments+this.tailLength*this.segmentDistance*2)*(1-t)+(this.tailLength*this.segmentDistance+this.segmentDistance)*t;this.line.style.strokeDashoffset=e,this.tailLengthChanged&&(this.tailLengthChanged=!1,this.line.style.strokeDasharray=this.segmentDistance*this.tailLength+" "+this.segments*this.segmentDistance)}},{key:"getLine",value:function(){return this.line}}]),h}(),et=new(function(){function t(){c(this,t)}return n(t,[{key:"preload",value:function(t,e){var o,n,i=t.length,r=0,a=function(){i<=++r&&e()};for(o=0;o<t.length;o++)(n=new Image).onload=a,n.src=t[o]}}]),t}()),ot=(function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}r(e,t),n(e,[{key:"getRatio",value:function(t){return 2*Math.pow(t,1)-1*Math.pow(t,3)}}])}(Ease),J("banner:card-animation")),nt=window.manifest.width+"x"+window.manifest.height+"--"+window.manifest.concept,it="jpg",rt=function(t){function l(t,e,o){e.preload;var n=e.config,i=o.worldStart,r=o.worldFly,a=o.camera,s=o.photo1,d=o.photo2;c(this,l);var h=u(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,{el:document.querySelector(".banner")}));return h.config=n,h.sizeTransforms={worldStart:i,worldFly:r,camera:a,photo1:s,photo2:d},ot("Manifest",window.manifest,"Config",h.config),h.preloadFiles=[window.manifest.width+"x"+window.manifest.height+"--start-mask."+it,nt+"--end-mask."+it,nt+"--photo-1."+it,nt+"--photo-1-mask."+it,nt+"--photo-2."+it,nt+"--photo-2-mask."+it,"card-texture.png","card-chip.svg","card-name.svg","cta-arrow.svg","uber-logo.svg","visa-logo.svg","flare.png"],TweenLite.defaultEase=Power1.easeInOut,h.dom={banner:document.querySelector(".banner"),viewport:document.querySelector(".viewport"),camera1:document.querySelectorAll(".camera")[0],camera2:document.querySelectorAll(".camera")[1],world:document.querySelector(".world"),photoCamera:document.querySelector(".photo--camera"),photo1:document.querySelector(".photo--1"),photo2:document.querySelector(".photo--2"),gradLines:document.querySelectorAll(".grad--line"),lighting1:document.querySelector(".card--lighting--1"),lighting2:document.querySelector(".card--lighting--2"),cardBits:document.querySelector(".cardBits"),photoBits:document.querySelector(".photoBits"),photoCopyContainer:document.querySelector(".photoBits .copy-container"),cardDepth:document.querySelector(".card--depth"),cardFlare:document.querySelector(".card--flare"),cardFlareBottom:document.querySelector(".card--flare-bottom"),bitLine:document.querySelector(".bit-line"),photoFadeGradient:document.querySelector(".photo-fade-gradient"),photoFadeGradientStop:document.querySelector(".photo-fade-gradient-stop"),backgroundCopyFadeGradient:document.querySelector(".end-text .fade-gradient"),backgroundCopyFadeGradientStop:document.querySelector(".end-text .fade-gradient-stop"),startCopy:document.querySelector(".start-text"),startCopyFadeGradient:document.querySelector(".start-text .fade-gradient"),startCopyFadeGradientStop:document.querySelector(".start-text .fade-gradient-stop"),endCopy:document.querySelector(".end-text"),backgroundBits:document.querySelector(".backgroundBits"),cta:document.querySelector(".learn-more-cta"),legal:document.querySelector(".legal"),endShadow:document.querySelector(".end-shadow"),photoBitMaskImage:document.querySelector("#photoMask4 image"),backgroundBitMaskImage:document.querySelector("#backgroundImageMask image"),photoLinesCont1:document.querySelector(".photo--1 .photo-lines-cont"),photoLinesCont1Inner:document.querySelector(".photo--1 .photo-lines-cont .inner"),photoLinesCont2:document.querySelector(".photo--2 .photo-lines-cont"),photoLinesCont2Inner:document.querySelector(".photo--2 .photo-lines-cont .inner")},h.dom.backgroundBitMaskImage.setAttribute("xlink:href",window.manifest.width+"x"+window.manifest.height+"--start-mask."+it),h.initPhotoSplit(),h.initBitLines(),h.initTransforms(),h.initBannerAnimation(),h.browserFixes(),h.endTextAdjustment(),ot("Initialized"),h}return r(l,$),n(l,[{key:"endTextAdjustment",value:function(){for(var t=this.dom.endCopy.querySelectorAll(".fade-copy"),e=0,o=0;o<t.length;o++){var n=t[o].transform.baseVal[0].matrix.f;0===o?n!==window.manifest.data.size.headline3.y&&(e=Math.abs(n-window.manifest.data.size.headline3.y),t[o].setAttribute("transform","translate("+window.manifest.data.size.headline3.x+", "+window.manifest.data.size.headline3.y+")")):t[o].setAttribute("transform","translate("+window.manifest.data.size.headline3.x+", "+(t[o].transform.baseVal[0].matrix.f-e)+")")}}},{key:"initPhotoSplit",value:function(){for(var t=window.manifest.height,e=[.072,.18,.048,.132,.02,.072,.02,.068,.024,.156,.044,.136,.028],o=[],n=0,i=0;i<e.length;i++){var r=Math.round(e[i]*t);i+1==e.length&&(r=t-n),o.push(r),n+=r}var a=this.dom.photo1.querySelectorAll(".photo--img"),s=this.dom.photo2.querySelectorAll(".photo--img");this.returnSplitImages(a,o,!1),this.returnSplitImages(s,o,!0)}},{key:"returnSplitImages",value:function(t,e,o){for(var n=0,i=0;i<t.length;i++)t[i].style.height=e[i]+2+"px",t[i].style.top=n-1+"px",t[i].style.backgroundPosition="0 -"+(n-1)+"px",o&&TweenMax.set(t[i],{x:window.manifest.width}),n+=e[i];if(o)for(i=0;i<this.dom.gradLines.length;i++)TweenMax.set(this.dom.gradLines[i],{x:window.manifest.width+(Math.floor(15*Math.random())+5)})}},{key:"initBitLines",value:function(){this.bitline1=new tt(36,4,28,15,[[4,4],[7,4],[7,3],[9,3]]),this.bitline2=new tt(36,3,28,15,[[9,3],[12,3]]),this.bitline3=new tt(36,4,28,15,[[12,3],[10,3],[10,4],[4,4]]),this.photoBitline1=this.config.photoBitline1,this.photoBitline2=this.config.photoBitline2,this.dom.cardBits.querySelector("mask").appendChild(this.bitline1.getLine()),this.dom.cardBits.querySelector("mask").appendChild(this.bitline2.getLine()),this.dom.cardBits.querySelector("mask").appendChild(this.bitline3.getLine()),this.dom.photoBits.querySelector("#photoMask").appendChild(this.photoBitline1.getLine()),this.dom.photoBits.querySelector("#photoMask").appendChild(this.photoBitline2.getLine())}},{key:"initTransforms",value:function(){this.camera={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0},this.cameraReset=Object.assign({},this.camera),this.world=Object.assign({},{x:0,y:-50,z:-800,rotationX:0,rotationY:0,rotationZ:0},this.sizeTransforms.worldStart),this.worldFly=Object.assign({},{toPhoto1:{x:0,y:50,z:120,rotationX:45,rotationY:30,rotationZ:-15},toPhoto2:{x:-50,y:50,z:250,rotationX:60,rotationY:60,rotationZ:-15},toEnding:{x:0,y:-160,z:-1400,rotationX:3,rotationY:-4,rotationZ:5}},this.sizeTransforms.worldFly),this.screenSpace={photoCamera:{rotationX:0,rotationY:0,rotationZ:0,x:0,y:0,z:0},photo:{x:"-50%",y:"-50%",z:0,scale:1}},this.depthEnding={x:3,y:0,z:0,scale:1},this.photo1=Object.assign({},{x:"-32%",y:"-76%",z:0,scale:.025},this.sizeTransforms.photo1),this.photo2=Object.assign({},{x:50,y:50,z:0,scale:1},this.sizeTransforms.photo2),this.light1={x:"-50%",opacity:.75},this.light2={x:"-50%",y:"-25%"},TweenMax.set(this.dom.camera1,a({},this.camera)),TweenMax.set(this.dom.camera2,a({},this.camera)),TweenMax.set(this.dom.world,a({},this.world)),TweenMax.set(this.dom.photoCamera,a({},this.photoCamera)),TweenMax.set(this.dom.photo2,a({},this.photo2)),TweenMax.set(this.dom.lighting1,a({},this.light1)),TweenMax.set(this.dom.lighting2,a({},this.light2))}},{key:"initBannerAnimation",value:function(){var t=this;this.cardColorCycle=this.initCardColorCycle(),this.photoColorCycle=this.initPhotoColorCycle(),this.backgroundColorCycle=this.initBackgroundColorCycle(),this.cardColorCycle.play(),et.preload(this.preloadFiles,function(){TweenMax.to(t.dom.banner,.25,{opacity:1,onComplete:function(){setTimeout(function(){t.startBanner()},25)}})})}},{key:"startBanner",value:function(){var t=this;(new TimelineMax).add(function(){TweenMax.to(t.dom.backgroundBits,.5,{opacity:1}),t.dom.backgroundBitMaskImage.setAttribute("xlink:href",window.manifest.width+"x"+window.manifest.height+"--start-mask."+it),t.backgroundColorCycle.play()}).fromTo(this.dom.cardFlare,.4,{scaleX:.5},{y:175,opacity:1,ease:Power1.easeIn,scaleY:3,scaleX:.125},0).to(this.dom.cardFlare,.4,{y:405,opacity:0,ease:Power1.easeOut,scaleY:1,scaleX:.5,rotation:-10}).fromTo(this.dom.cardFlareBottom,.3,{scaleY:.5,rotation:10},{rotation:0,x:100,opacity:1,ease:Power1.easeIn,scaleX:4,scaleY:.085},"-=0.35").to(this.dom.cardFlareBottom,.2,{x:250,opacity:0,ease:Power1.easeOut,scaleX:1,scaleY:.15}).add(this.timelineStartCopyFadeGradient(1.8),"-=1.8").to(this.dom.lighting2,1,{x:"0%",opacity:0},0).to(this.dom.lighting1,5,{x:"0%"},0).add(this.timelineToPhoto(2.5,.7),.5).add(this.timelineBitLine(this.bitline1,2.5),0)}},{key:"browserFixes",value:function(){var t=-1<navigator.userAgent.indexOf("Chrome"),e=-1<navigator.userAgent.indexOf("Safari");this.safari=e&&!t,this.safari&&(this.dom.photoBits.style.transform="translateY(-"+Math.floor(.02*window.manifest.height)+"px) translateZ(0) scale(1)")}},{key:"initCardColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.card.rotationDegrees,this.manifest.data.size.colorCycle.card.offset);return new TimelineMax({repeat:-1,paused:!0}).fromTo(this.dom.cardBits.querySelector("linearGradient"),2,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"initPhotoColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.photo.rotationDegrees,this.manifest.data.size.colorCycle.photo.offset);return new TimelineMax({repeat:-1,paused:!0}).fromTo(this.dom.photoBits.querySelector("linearGradient"),1.5,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"initBackgroundColorCycle",value:function(){var t=this.getGradientTransform(this.manifest.data.size.colorCycle.background.rotationDegrees,this.manifest.data.size.colorCycle.background.offset);return new TimelineMax({repeat:-1}).fromTo(this.dom.backgroundBits.querySelector("linearGradient"),2,{attr:{gradientTransform:t.from}},{attr:{gradientTransform:t.to},ease:Linear.easeNone},0)}},{key:"getGradientTransform",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3,n=e%1*(Math.cos(t*Math.PI/180)/o);return{from:"translate("+(1/o-1+n)+", 0) rotate("+t+")",to:"translate("+(1/Math.cos(t*Math.PI/180)/o+1/o-1+n)+", 0) rotate("+t+")"}}},{key:"timelineToPhoto",value:function(t,e){var o=this,n=new TimelineMax({onStart:function(){setTimeout(function(){o.timelineInPhoto()},1300)}});return n.add(this.worldTransform(a({},this.worldFly.toPhoto1,{ease:Power2.easeInOut}),{duration:t},{timeline:n,percent:e,actionKey:"inPhoto1"})),n}},{key:"timelineInPhoto",value:function(){var t=this,e={onComplete:function(){TweenMax.set(t.dom.startCopy,{opacity:0}),t.photoSwipe()}},o=void 0;window.manifest.width<window.manifest.height?(TweenMax.set(this.dom.photoLinesCont1Inner,{y:-window.manifest.height/2,scale:.25}),o={y:0}):(TweenMax.set(this.dom.photoLinesCont1Inner,{x:-window.manifest.width/2,scale:.25}),o={x:0});var n=new TimelineMax(e).add(function(){t.showTextMask(1)},.7).to(this.dom.photoLinesCont1Inner,.75,a({},o,{ease:Power2.easeIn}),0).to(this.dom.photoLinesCont1Inner,.6,{scale:1,ease:Power1.easeOut},.3).to([this.dom.photoLinesCont1,this.dom.photoLinesCont2],.75,{ease:Power2.easeIn},0).to([this.dom.photoLinesCont1,this.dom.photoLinesCont2],.75,{width:Math.max(window.manifest.width,window.manifest.height),height:Math.max(window.manifest.width,window.manifest.height),ease:Power2.easeIn},0).add(function(){t.cardColorCycle.pause(),t.photoColorCycle.play()},"-=1.5");return 728==window.manifest.width?n.add(this.timelinePhotoBitFadeGradient(1.4),"-=0.6"):n.add(this.timelinePhotoBitFadeGradient(1.2)),n.add(this.timelineBitLine(this.photoBitline1,2.5),"-=1"),n}},{key:"photoSwipe",value:function(){var t=this,e=new TimelineMax({onComplete:function(){t.outPhoto2(),TweenMax.set(t.dom.photo1,{visibility:"hidden"})}});e.set(this.dom.photo2,{visibility:"visible",x:0,y:"-50%",z:0,scale:1});for(var o=this.dom.photo1.querySelectorAll(".photo--img"),n=this.dom.photo2.querySelectorAll(".photo--img"),i=[6,5,7,4,8,3,9,2,10,1,11,0,12],r=0;r<o.length;r++)e.to(o[i[r]],.75,{x:-window.manifest.width,ease:Power2.easeInOut},.02*r),e.to(n[i[r]],.75,{x:0,ease:Power2.easeInOut},.02*r);i=[4,3,5,1,6,0,2,7];for(var a=0;a<this.dom.gradLines.length;a++)e.to(this.dom.gradLines[i[a]],.9,{x:-window.manifest.width,ease:Power3.easeInOut,onComplete:function(){this.target.remove()}},.03*a);e.add(function(){t.showTextMask(2)}),728==window.manifest.width?e.add(this.timelinePhotoBitFadeGradient(1.5),"-=0.7"):e.add(this.timelinePhotoBitFadeGradient(1.2)),e.add(this.timelineBitLine(this.photoBitline2,2.5),"-=1")}},{key:"outPhoto2",value:function(){var t=this,e={offset:0},o={x:-window.manifest.width/2,ease:Power2.easeOut};window.manifest.width<window.manifest.height&&(o={y:-window.manifest.height/2,ease:Power2.easeOut}),TweenMax.set(this.dom.world,a({},this.worldFly.toEnding));var n=1,i=.7,r="+=0.5";(300==window.manifest.width&&600==window.manifest.height||300==window.manifest.width&&250==window.manifest.height)&&(console.log("here"),n=.9,i=.6,r="+=0.4"),50==window.manifest.height&&(n=.9,i=.6,r="+=0.3"),(new TimelineMax).add(function(){t.dom.backgroundBitMaskImage.setAttribute("xlink:href",nt+"--end-mask."+it)},0).add(this.cameraTransform(a({},this.sizeTransforms.camera.outPhoto2,{ease:Power2.easeInOut}),{duration:1.5}),r).add(function(){t.photoColorCycle.pause(),t.cardColorCycle.play()},0).to(this.dom.photoCamera,1,a({},this.worldFly.toPhoto2),0).to(this.dom.photoBits,.5,{opacity:0},0).to(this.dom.photoLinesCont2,n,{width:"0px",height:"0px",ease:Power2.easeOut},i).to(this.dom.photoLinesCont2Inner,n,o,i).to(this.dom.photoLinesCont2Inner,.6,{scale:0,ease:Power1.easeOut},i).to(this.dom.photo2,n,a({},this.photo2,{z:0}),i).to(this.dom.photoCamera,0,{visibility:"hidden",immediateRender:!1}).to(this.dom.photo2,0,{visibility:"hidden",immediateRender:!1}).to(this.dom.endShadow,3,{opacity:1},"-=3").to(e,1,{offset:100,ease:Linear.easeNone,onUpdate:function(){t.dom.backgroundCopyFadeGradient.setAttribute("x1",e.offset-100+"%"),t.dom.backgroundCopyFadeGradient.setAttribute("x2",e.offset+"%"),t.dom.backgroundCopyFadeGradientStop.setAttribute("offset",e.offset+"%")}},0).to(this.dom.cta,.75,{y:"0%"},0).to(this.dom.legal,.5,{opacity:"1"},0)}},{key:"timelineBitLine",value:function(t,e){var o={t:0};return(new TimelineMax).to(o,e,{t:1,onUpdate:function(){t.setProgress(o.t)}})}},{key:"timelinePhotoBitFadeGradient",value:function(t){var e=this,o={offset:0};return(new TimelineMax).to(o,t,{offset:100,onUpdate:function(){e.dom.photoFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.photoFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.photoFadeGradientStop.setAttribute("offset",o.offset+"%")}})}},{key:"timelineEndCopyFadeGradient",value:function(t){var e=this,o={offset:0};return(new TimelineMax).to(o,t,{offset:100,ease:Linear.easeNone,onUpdate:function(){e.dom.backgroundCopyFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.backgroundCopyFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.backgroundCopyFadeGradientStop.setAttribute("offset",o.offset+"%")}})}},{key:"timelineStartCopyFadeGradient",value:function(t){var e=this,o={offset:0},n=window.manifest.data.size.introTextFadeOffset;return void 0===n&&(n="-=0.5"),(new TimelineMax).to(o,t/1.2,{offset:100,ease:Sine.easeIn,onUpdate:function(){e.dom.startCopyFadeGradient.setAttribute("x1",o.offset-100+"%"),e.dom.startCopyFadeGradient.setAttribute("x2",o.offset+"%"),e.dom.startCopyFadeGradientStop.setAttribute("offset",o.offset+"%")}})}},{key:"timelineBackgroundEndFade",value:function(){return(new TimelineMax).to(this.dom.banner,2,{backgroundColor:"#f5f5f5"},0).add(this.timelineEndCopyFadeGradient(1),1.5).to(this.dom.cta,.75,{y:"0%"},1.75).to(this.dom.legal,.5,{opacity:"1"})}},{key:"showTextMask",value:function(t){this.dom["photo"+t].appendChild(this.dom.photoBits),this.dom.photoBitMaskImage.setAttribute("xlink:href",nt+"--photo-"+t+"-mask."+it);for(var e=this.dom.photoCopyContainer.querySelectorAll(".photo-copy"),o=0;o<e.length;o++){var n=e[o];n.parentNode.removeChild(n)}this.manifest.data.size["headline"+t].align&&"right"===this.manifest.data.size["headline"+t].align?this.dom.photoCopyContainer.style["text-anchor"]="end":this.dom.photoCopyContainer.style["text-anchor"]="start";for(var i=this.manifest.data.copy[t].split("<br>"),r=0;r<i.length;r++){var a=i[r],s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttributeNS(null,"x",this.manifest.data.size["headline"+t].x),s.setAttributeNS(null,"y",this.manifest.data.size["headline"+t].y),s.setAttributeNS(null,"transform","translate(0, "+this.manifest.data.size["headline"+t].lineHeight*r+")"),s.setAttributeNS(null,"class","photo-copy"),s.innerHTML=a,this.dom.photoCopyContainer.appendChild(s)}this.dom.photoFadeGradient.setAttribute("x1","-100%"),this.dom.photoFadeGradient.setAttribute("x2","0%"),this.dom.photoFadeGradientStop.setAttribute("offset","0%");for(var d=document.querySelectorAll(".text-mask"),h=0;h<d.length;h++){var l=d[h];l.classList.contains("photoBitline"+t)?l.style.display="inline":l.style.display="none"}}},{key:"worldTransform",value:function(t,e,o){var n=e.duration,i=o.timeline,r=o.percent,a=o.actionKey;return this.transform("world",t,{duration:n},{timeline:i,percent:r,actionKey:a})}},{key:"transform",value:function(t,e,o,n){var i=this,r=o.duration;n.timeline,n.percent,n.actionKey;return(new TimelineMax).to(this[t],r,a({},e,{onUpdate:function(){TweenMax.set(i.dom[t],a({},i[t]))}}))}},{key:"cameraTransform",value:function(t,e){var o=this,n=e.duration;return(new TimelineMax).to(this.camera,n,a({},t,{onUpdate:function(){TweenMax.set(o.dom.camera1,a({},o.camera)),TweenMax.set(o.dom.camera2,a({},o.camera))}}))}}]),l}(),at=J("banner:card-160x600");return new(function(t){function i(){c(this,i);var t=void 0,e={photoBitline1:new tt(window.manifest.data.size.photoBits.gridSize,4,11,-4,[[2,22],[2,23],[6,23]]),photoBitline2:new tt(window.manifest.data.size.photoBits.gridSize,4,11,-4,[[0,20],[4,20],[4,21]])},o={photoBitline1:new tt(window.manifest.data.size.photoBits.gridSize,4,11,-4,[[2,24],[2,25],[6,25]]),photoBitline2:new tt(window.manifest.data.size.photoBits.gridSize,4,11,-4,[[0,20],[4,20],[4,21]])};switch(window.manifest.concept){case"consideration-baseball":case"consideration-dining":t=e;break;case"conversion-beach":t=o,window.manifest.data.size.headline3.y=56;break;case"conversion-warrior":case"conversion-wine":t=o}var n=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,window.manifest,{preload:[],config:t},{worldStart:{x:160,y:-105},worldFly:{toPhoto1:{x:-140,y:140,z:200,rotationX:0,rotationY:0,rotationZ:0},toPhoto2:{x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0},toEnding:{x:-60,y:50,z:200,rotationX:0,rotationY:0,rotationZ:0}},camera:{outPhoto1:{rotationY:0},outPhoto2:{x:60,y:20,z:-1750,rotationX:0,rotationY:0,rotationZ:0}},photo1:{x:-35,y:-360,scale:.013},photo2:{x:0,y:-16,scale:0}}));return at("Initialized"),n}return r(i,rt),i}())}();