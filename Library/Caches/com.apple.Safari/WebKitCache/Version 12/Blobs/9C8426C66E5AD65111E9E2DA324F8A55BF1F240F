W6c.prototype.nm=t(996,function(){return D(this,1)});b7c.prototype.nm=t(995,function(){return E(this,1,0)});Rk.prototype.nm=t(994,g("reason"));jxa.prototype.nm=t(993,g("C"));Gq.prototype.nm=t(992,function(){return O(this,2)});rmd.prototype.nm=t(991,function(){return D(this,1)});xmd.prototype.nm=t(990,function(){return D(this,2)});function bmf(a,b){ah(a.C,8192)?b():(qf(a.ZQ,a.oa,function(){b()}),a.create())}function cmf(a){a.R=!0;return a}
function dmf(a,b){var c={und:D(b,1),T_c:D(b,4),icb:D(b,2),aLc:D(b,3),Gnd:D(b,5)};a&&(c.Ga=b);return c}function emf(a){C(this,a,0,-1,null,null)}y(emf,B);emf.prototype.ma=function(a){return dmf(a,this)};function fmf(a,b){var c={id:D(b,1),type:D(b,2)};a&&(c.Ga=b);return c}function gmf(a){C(this,a,0,-1,null,null)}y(gmf,B);n=gmf.prototype;n.ma=function(a){return fmf(a,this)};n.getId=function(){return D(this,1)};n.Ge=function(a){F(this,1,a)};n.getType=function(){return D(this,2)};
n.setType=function(a){F(this,2,a)};n.hasType=function(){return null!=D(this,2)};function hmf(a,b){var c={reason:D(b,1),icb:D(b,2),shd:D(b,3),iNc:D(b,4)};a&&(c.Ga=b);return c}function I5(a){C(this,a,0,-1,null,null)}y(I5,B);I5.prototype.ma=function(a){return hmf(a,this)};I5.prototype.nm=function(){return D(this,1)};function imf(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function jmf(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function kmf(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function lmf(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function mmf(a,b){this.R$=a;this.xx=b};function nmf(a,b,c,d,e){H.call(this);this.Za=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new mrc;this.J=c;this.D=null;this.F=new of;this.Aa(this.F);this.C=omf(this)}y(nmf,H);function omf(a){a.C&&I(a.C);var b=Uf(L(),"lssv");return new rrc(a.Za,a.O,0,a.$3a.bind(a),b,!0,a.J,new nqc)}function pmf(a){if(a.D)return a.D;a.D=qmf(a);return Hf(a.D,function(b){a.cca();throw b;})}
function rmf(a){return pmf(a).then(function(a){return(new zf(function(b,d){Snc(a.$R(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Vf(L(),"docs-offline-lsuid")?new mmf(a,b[0]):null}.bind(this))}.bind(a))}n=nmf.prototype;n.get=function(){return rmf(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.R$})};function qmf(a){return(new zf(function(a,c){Di(this.C.create(this.cca.bind(this)),a,c)}.bind(a))).then(a.Stb.bind(a))}
n.Stb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new gpc(a,this.H);this.Aa(c)}yqa(a);pf(this.F,a.C.C.D,function(){b.cca()});pf(this.F,a.C.oa,function(){b.cca()});return a};n.cca=function(){I(this.C);this.C=omf(this);this.D=null};n.$3a=function(a){return Qpc(this.L,a)};n.La=function(){I(this.C);nmf.xa.La.call(this)};function smf(){return U('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function tmf(a){nA.call(this);this.O=a;hy(this,"Turn on offline for all files?");a=new py;xy(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);xy(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);vy(this,a);ry(this,!1);this.Hi=this.Bs=!0;a=new IO;iy(this,Ey(G0b(a,smf)));this.C=this.F=null}y(tmf,nA);
tmf.prototype.Ka=function(){tmf.xa.Ka.call(this);Zy(this,this.D.qw);this.F=Su(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=Su(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Kc(this.F,"click",this.L)};tmf.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};tmf.prototype.L=function(){Pv(this.F,"docs-offline-optindialog-disclaimer-link-disabled");Q(this.C,!0);this.C.focus()};function J5(a){C(this,a,0,-1,null,null)}y(J5,B);function umf(a){C(this,a,0,-1,null,null)}y(umf,B);function vmf(a){C(this,a,0,-1,null,null)}y(vmf,B);function wmf(a){C(this,a,0,-1,xmf,null)}y(wmf,B);function ymf(a){C(this,a,0,-1,zmf,null)}y(ymf,B);function Amf(a){C(this,a,0,-1,null,null)}y(Amf,B);function Bmf(a){C(this,a,0,-1,null,null)}y(Bmf,B);function Cmf(a){C(this,a,0,-1,null,null)}y(Cmf,B);function Dmf(a){C(this,a,0,-1,null,null)}y(Dmf,B);function Emf(a){C(this,a,0,-1,null,null)}y(Emf,B);
function Fmf(a){C(this,a,0,-1,null,null)}y(Fmf,B);function Gmf(a){C(this,a,0,-1,Hmf,null)}y(Gmf,B);function Imf(a){C(this,a,0,-1,null,null)}y(Imf,B);J5.prototype.ma=function(a){var b,c={type:D(this,1),pXc:(b=G(this,wmf,2))&&Jmf(a,b),Fzd:(b=G(this,Gmf,3))&&Kmf(a,b),A_c:(b=G(this,Cmf,4))&&Lmf(a,b)};a&&(c.Ga=this);return c};J5.prototype.getType=function(){return D(this,1)};J5.prototype.setType=function(a){F(this,1,a)};J5.prototype.hasType=function(){return null!=D(this,1)};n=umf.prototype;
n.ma=function(a){var b,c={type:D(this,1),zCa:(b=this.mA())&&Mmf(a,b),qXc:(b=G(this,ymf,3))&&Nmf(a,b),Jnd:(b=G(this,Amf,4))&&Omf(a,b),B_c:(b=G(this,Dmf,5))&&Pmf(a,b),C6c:(b=G(this,Emf,6))&&Qmf(a,b),snd:(b=G(this,Bmf,7))&&Rmf(a,b),Gzd:(b=G(this,Imf,8))&&Smf(a,b)};a&&(c.Ga=this);return c};n.getType=function(){return D(this,1)};n.setType=function(a){F(this,1,a)};n.hasType=function(){return null!=D(this,1)};n.mA=function(){return G(this,vmf,2)};n=vmf.prototype;n.ma=function(a){return Mmf(a,this)};
function Mmf(a,b){var c={type:D(b,1),errorMessage:D(b,2)};a&&(c.Ga=b);return c}n.getType=function(){return D(this,1)};n.setType=function(a){F(this,1,a)};n.hasType=function(){return null!=D(this,1)};n.getErrorMessage=function(){return D(this,2)};var xmf=[1];wmf.prototype.ma=function(a){return Jmf(a,this)};function Jmf(a,b){var c={sBa:Ac(b,1)};a&&(c.Ga=b);return c}var zmf=[1];ymf.prototype.ma=function(a){return Nmf(a,this)};function Nmf(a,b){var c={oXc:yc(Gc(b,Fmf,1),Tmf,a)};a&&(c.Ga=b);return c}
Amf.prototype.ma=function(a){return Omf(a,this)};function Omf(a,b){var c,d={Ind:(c=b.DR())&&dmf(a,c)};a&&(d.Ga=b);return d}Amf.prototype.DR=function(){return G(this,emf,1)};Bmf.prototype.ma=function(a){return Rmf(a,this)};function Rmf(a,b){var c,d={iPb:(c=b.iy())&&hmf(a,c)};a&&(d.Ga=b);return d}Bmf.prototype.iy=function(){return G(this,I5,1)};Cmf.prototype.ma=function(a){return Lmf(a,this)};function Lmf(a,b){var c={tnd:D(b,1)};a&&(c.Ga=b);return c}Dmf.prototype.ma=function(a){return Pmf(a,this)};
function Pmf(a,b){var c,d={iPb:(c=b.iy())&&hmf(a,c)};a&&(d.Ga=b);return d}Dmf.prototype.iy=function(){return G(this,I5,1)};Emf.prototype.ma=function(a){return Qmf(a,this)};function Qmf(a,b){var c={EFb:D(b,1)};a&&(c.Ga=b);return c}n=Fmf.prototype;n.ma=function(a){return Tmf(a,this)};function Tmf(a,b){var c={id:D(b,1),title:D(b,2),Wia:D(b,3),Qdd:D(b,4),Idd:D(b,5),znd:D(b,6),pinned:D(b,7),mXc:D(b,8),PP:D(b,9),RSc:D(b,10),Wdd:D(b,11),Udd:D(b,12),Xdd:D(b,13),Q6c:D(b,14)};a&&(c.Ga=b);return c}
n.getId=function(){return D(this,1)};n.Ge=function(a){F(this,1,a)};n.getTitle=function(){return D(this,2)};n.Zo=function(){return D(this,3)};var Hmf=[1];Gmf.prototype.ma=function(a){return Kmf(a,this)};function Kmf(a,b){var c={uXc:yc(Gc(b,gmf,1),fmf,a),pinned:D(b,2),bNd:D(b,3)};a&&(c.Ga=b);return c}Imf.prototype.ma=function(a){return Smf(a,this)};function Smf(a,b){var c,d={uBa:(c=G(b,mV,1))&&Uld(a,c)};a&&(d.Ga=b);return d};function Umf(a,b,c,d){K.call(this);this.F=a;this.Ba=b;this.L=c;this.O=new LR(this.L,KR(),this);this.Za=d;this.H=Ff();this.D=this.C=null;this.J=!1}y(Umf,K);Umf.prototype.start=function(){var a=this;Vmf(this,"Initialization").then(function(){a.J=!0;a.H.resolve(null);a.O.V(ogb,a.ea).V(dgb,a.oa).V(ggb,a.R)},function(b){a.H.resolve(ne(b))})};function Wmf(a){return a.H.C.then(function(a){if(null!=a)throw a;})}
Umf.prototype.ea=function(a){a=Gc(a,KF,1);for(var b=0;b<a.length;b++){var c=a[b].Nq(qgb);if(c&&D(c,1)==this.F&&Ac(c,3).includes(1)){Xmf(this,"Document data changed");break}}};Umf.prototype.oa=function(a){D(a,1)==this.F&&Xmf(this,"Document available")};Umf.prototype.R=function(){Xmf(this,"Offline disabled")};function Xmf(a,b){Hf(Vmf(a,b),function(b){ag(a.Za,ne(b))})}
function Vmf(a,b){return Hf(Ymf(a.Ba,[a.F]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=D(e,7),e=D(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.D!=e);a.C=c;a.D=e;b&&a.dispatchEvent("Ah");f&&a.dispatchEvent("Bh")}),function(a){throw oe(a,{pinStatusUpdateReason:b});})};function Zmf(){K.call(this);this.C=3;this.D=null;this.H=!1;this.F=Ff()}y(Zmf,K);function $mf(a){return a.F.C.then(function(a){if(null!=a)throw a;})}Zmf.prototype.iy=g("D");function anf(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Ch")}function bnf(a){if(!a.D)return!1;a=a.D.nm();return 1==a||6==a};function cnf(a,b,c,d,e,f,h,k,l,q,r){H.call(this);this.Ra=a;this.Ta=b;this.pb=c;this.F=d;this.D=e;this.Za=k;this.Ea=new ER;this.Na=new Nf(this);this.Aa(this.Na);this.Wa=a.C;this.ea=f;this.ub=h;this.H=this.C=null;this.L=l;this.Va=q;this.Ia=r;this.Ma=new of;this.Aa(this.Ma);this.O=dnf(this,"Document now available offline");this.oa=dnf(this,"Document no longer available offline");this.R=dnf(this,"Could not change offline availability.");this.J=dnf(this,"Could not enable offline access.");this.Oa=dnf(this,
"Making document available offline...");this.Ba=dnf(this,"Document will sync when you reconnect");this.$a=dnf(this,"Could not sync document.")}y(cnf,H);function dnf(a,b){return HA(a.L,b,void 0,!1,3E3,!1,void 0,!0)}n=cnf.prototype;n.init=function(){var a=this;Df([$mf(this.D),Wmf(this.F)]).then(function(){enf(a);fnf(a);(eu(),as).setVisible(A.product.jf)},function(b){a.Za.Qc(ne(b))})};
function enf(a){(eu(),as).subscribe("action",a.zIa,a);a.Na.V(a.F,"Ah",a.Gxb).V(a.F,"Bh",a.cwb).V(a.D,"Ch",a.ewb);pf(a.Ma,a.Ia.C,function(){fnf(a)})}n.zIa=function(){gnf(this)};
function gnf(a){Ioc(a.Ea).then(function(){if(Sc()){if(1==a.D.C)return hnf(a);bnf(a.D)?inf(a):jnf(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=xy(xy(new py,{key:"ok",caption:"Install"},!0),Ay,!1,!0),c=a.ea,d=dQd("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.e7a,null,a,void 0,b,void 0);c.Ph(d);d.focus();a.H=d;Zy(a.H,b.qw)}})}
n.e7a=function(){var a=this;this.Ea.install().then(function(b){b&&gnf(a)},function(b){b=ne(b);a.Za.Qc(b);gIb(b)})};function hnf(a){var b=!(eu(),as).Dd(),c=a.Va.eg();b&&!a.F.D&&jnf(a,c?a.Oa:a.Ba);return Hf((new zf(function(b){bmf(a.Wa,b)})).then(function(){return knf(a,b,c)}),function(b){jnf(a,a.R);a.Za.log(ne(b))})}function lnf(a){Hf(mnf(a.ub),function(b){a.Za.log(ne(b))}).then(function(){if(1==a.D.C)return hnf(a);jnf(a,a.J)})}
function inf(a){a.C||(a.C=new tmf(function(){return lnf(a)}),a.ea.Ph(a.C),a.Na.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}function knf(a,b,c){var d=new gmf;d.Ge(a.Ra.F);d.setType(a.Ta);return nnf(a.pb,[d],b,c).then(function(b){b&&(D(b,1)||jnf(a,a.$a))})}n.Gxb=function(){fnf(this);onf(this);this.F.C||jnf(this,this.oa)};n.cwb=function(){onf(this)};n.ewb=function(){fnf(this)};function onf(a){1==a.D.C&&a.F.D&&a.F.C&&jnf(a,a.O)}
function jnf(a,b){a.O.setVisible(!1);a.oa.setVisible(!1);a.R.setVisible(!1);a.J.setVisible(!1);a.Oa.setVisible(!1);a.Ba.setVisible(!1);b.Pb()||b.render();b.setVisible(!0)}function fnf(a){var b=a.Ia.getState()==(hi(),Nra);(eu(),as).Qa(!b&&(1==a.D.C||bnf(a.D)));as.gc(a.F.C)}
n.La=function(){(eu(),as).unsubscribe("action",this.zIa,this);this.C&&(LB(this.ea,this.C),I(this.C));this.H&&(LB(this.ea,this.H),I(this.H));cnf.xa.La.call(this);JA(this.L,this.O);JA(this.L,this.oa);JA(this.L,this.R);JA(this.L,this.J);me(this.O,this.oa,this.R,this.J)};function pnf(a){this.D=a}pnf.prototype.C=function(a,b,c){rmf(this.D).then(x(function(d){d?(new tVc(d.R$,"offline",null)).C(a,b,c):b()},this))};function qnf(a){switch(a){case "scary":return 3;case "canary":return 2;case "prod":return 1;default:return 0}};function rnf(a,b,c){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">You\'re all set</span></div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-buttons docs-offline-optinpromo-confirm-buttons">'+T(az({id:"docs-offline-optinpromo-confirm-close",content:Ly("Close")},c||b));return U(a+"</div></div>")};function snf(a){K.call(this);this.qb=a||iu();this.Na=new Nf(this);this.Aa(this.Na);this.C=new Pz(a);this.C.mz(!1);$x(this.C.D,!1);this.C.Cd("docs-offline-optinpromo");this.C.render();a=this.C.Pa();Nu(a,!0);Iv(a,"dialog");Jv(a,"labelledby","docs-offline-optinpromo-title");Jv(a,"describedby","docs-offline-optinpromo-description");this.Aa(this.C);this.L=new fz(null);this.Aa(this.L);this.J=new fz(null);this.Aa(this.J);this.H=new fz(null);this.Aa(this.H);this.O=this.F=this.D=null;tnf(this,unf)}y(snf,K);
function unf(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">Work offline and don\'t miss a beat</span></div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br><div class="docs-offline-optinpromo-buttons">'+
T(az({id:"docs-offline-optinpromo-optin",content:Ly("Turn on offline access"),style:2},b));a+=T(az({id:"docs-offline-optinpromo-decline",content:Ly("No thanks"),style:0},b));return U(a+"</div></div>")}
function tnf(a,b){var c=ez(b);a.C.setContent(c);switch(b){case unf:a.Na.V(a.C,"show",a.Vxb);b=a.qb.getElement("docs-offline-optinpromo-optin");a.L.Ya(b);a.Na.Kc(a.L,"action",x(a.Dwb,a));b=a.qb.getElement("docs-offline-optinpromo-decline");a.J.Ya(b);a.Na.Kc(a.J,"action",x(a.Gnb,a));a.D=a.qb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.qb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.qb.getElement("docs-offline-optinpromo-learn-more-container");a.Na.V(a.D,"click",x(a.zSa,
a,!0)).V(a.F,"click",x(a.zSa,a,!1));break;case rnf:b=a.qb.getElement("docs-offline-optinpromo-confirm-close");a.H.Ya(b);a.Na.Kc(a.H,"action",x(a.show,a,!1));a.C.Pa().focus();break;default:throw Error("Cannot handle state "+b);}a.qb.getElement("docs-offline-optinpromo-title");a.qb.getElement("docs-offline-optinpromo-description")}n=snf.prototype;n.zSa=function(a){Q(this.D,!a);Q(this.F,a);Q(this.O,a);(a?this.F:this.D).focus();return!1};n.Dwb=function(){this.dispatchEvent(new qe("Eh"))};n.Gnb=function(){this.dispatchEvent(new qe("Fh"))};
n.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new qe("Gh"))};n.Vxb=function(){this.C.Pa().focus();this.dispatchEvent(new qe("Dh"))};function vnf(a,b,c){this.C=a;this.D=c||null};function wnf(a,b){this.C=a;this.Za=b}wnf.prototype.get=function(){return rmf(this.C).then(function(a){return a?new vnf(1,a.xx.getId(),a.xx.lA(),xnf(this)):pmf(this.C).then(function(a){return(new zf(function(b,d){Snc(a.$R(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new vnf(4,a.getId(),a.lA());else throw Error("More than one user in store: "+a.length);else a=imf()?new vnf(2):Dpc()?new vnf(5):new vnf(3);return a}.bind(this))}.bind(this))}.bind(this))};
function xnf(a){a=new Ogb(a.Za);var b=L(),c=M(b,"docs-dbsw"),d=[];c&&M(b,"docs-offline-esmst")&&d.push(new OF("metadata-sync",0,!0,new NF(1,hk(),PF("metadata"),3E5,!0,!0,!0)));c&&M(b,"docs-offline-esbst")&&d.push(new OF("service-worker-update",0,!0,new NF(2,hua(),PF("service_worker_update"),3E5,!0,!0,!1)),Bgb());M(b,"docs-offline-edswut")&&d.push(new OF("drive-service-worker",0,!0,new NF(2,iua(Vf(L(),"drdn"),"/drive/serviceworker/update",!0),PF("drive_service_worker_update"),3E5,!0,!0,!0)));M(b,"docs-offline-eshcst")&&
d.push(new OF("homescreen-cello-sync",Uf(L(),"docs-offline-scstpim"),!0,new NF(2,iua(Th(la.location.href),"/document/backgroundsync"),new MF,3E5,!0,!0,!0)));M(b,"docs-offline-esdcst")&&d.push(new OF("drive-cello-sync",Uf(L(),"docs-offline-scstpim"),!0,new NF(2,iua(Vf(L(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new MF,3E5,!0,!0,!0)));c&&M(b,"docs-offline-eslcst")&&d.push(new OF("local-changes-sync",0,!1,new NF(1,hk(),PF("local_changes_sync"),3E5,!0,!0,!1)));c&&M(b,"docs-offline-esast")&&
!M(b,"docs-offline-eoasks")&&d.push(new OF("auto-sync",Uf(L(),"docs-offline-sastpim"),!1,new NF(1,hk(),PF("auto_sync"),3E5,!0,!0,!0)));c&&M(b,"docs-offline-eswst")&&d.push(new OF("webfonts-sync",0,!0,new NF(1,hk(),PF("webfonts_sync"),3E5,!0,!0,!0)));c&&M(b,"docs-offline-esist")&&d.push(new OF("impression-sync",0,!1,new NF(1,hk(),PF("impressionSync"),3E5,!0,!0,!1)));c&&M(b,"docs-offline-esddt")&&d.push(new OF("document-deletion",0,!1,new NF(1,hk(),PF("doc_deletion"),3E5,!1,!1,!1)));c&&M(b,"docs-offline-esuuct")&&
d.push(new OF("update-unsaved-changes",0,!1,new NF(2,hua(),PF("update_unsaved_changes"),3E5,!1,!1,!1)));c&&M(b,"docs-offline-esct")&&d.push(new OF("cleanup-task",0,!1,new NF(2,hua(),PF("cleanup"),3E5,!1,!1,!1)));c&&M(b,"docs-offline-esrt")&&d.push(new OF("report-task",0,!1,new NF(2,hua(),PF("report"),3E5,!1,!1,!1)));if(c&&M(b,"docs-offline-eskst")){var e=mja(b,"docs-offline-rte");Va(e,"kix")&&d.push(new OF("kix-snapshot",0,!1,new NF(1,iua(Th(la.location.href),"/document/snapshot.js"),new MF,3E5,!1,
!1,!1)))}c&&M(b,"docs-offline-esost")&&d.push(new OF("sync-objects-sync",0,!0,new NF(1,hk(),PF("sync_objects_sync"),3E5,!0,!0,!0)));b=[];for(c=0;c<d.length;c++)e=d[c],e.C&&b.push(e);for(d=0;d<b.length;d++)if(c=Pgb(a,b[d].getId()),!c||!E(c,5,!1))return!1;return!0};function ynf(a,b){this.L=a;this.H=b}function znf(a){return Anf(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new I5;F(a,1,1);return a},a.J.bind(a))}ynf.prototype.J=function(a){if(a instanceof I5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Anf(a){var b=new I5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Bf();case 4:return F(b,1,3),F(b,2,a.D),Cf(b);case 1:return F(b,1,2),Cf(b);case 5:return F(b,1,4),Cf(b);default:throw Error("Unexpected enabled state: "+c);}})}ynf.prototype.D=function(){return(new zf(function(a,b){this.H.dV(a,b)}.bind(this))).then(function(a){if(a)return Bf();a=new I5;F(a,1,5);return Cf(a)})};ynf.prototype.C=function(){if(Sc())return Bf();var a=new I5;F(a,1,6);return Cf(a)};
ynf.prototype.F=function(){var a=Uf(L(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new zf(function(b,c){bnb(function(d,e){e>a?b():(d=new I5,F(d,1,7),F(d,3,a),F(d,4,e),c(d))},c)})};function Bnf(a){this.C=a}function Cnf(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",mi(c))}function Dnf(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new Bnf(a)};function Enf(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function Fnf(a){return pmf(a.H).then(function(a){return Gnf(this,a).then(function(){var b=Irc();if(!b)throw Error("Missing user info for enabling offline in flags.");return Hnf(this,a,b)}.bind(this))}.bind(a)).then(function(a){return Inf(this,a)}.bind(a))}function Gnf(a,b){return(new zf(function(a,d){Snc(b.$R(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function Hnf(a,b,c){var d=new $pa(D(c,1),!0);aqa(d,c.lA());bqa(d,D(c,3));cqa(d,!!D(c,4));dqa(d,!!D(c,6));th(d,"optInReasons",a.C);return(new zf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function Inf(a,b){Cnf(Dnf(),b.lA()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new IF;var c=new Pfb;Mc(b,LF,c);fpc(a.F,b);b=new ER;var d=new Jrc(b);return Eoc(b).then(function(){return new zf(function(a,b){d.dV(a,b)})}.bind(a)).then(function(a){var b=Krc(),c=new Pg;this.C[0]&&F(c,1,Nnc(this.C[0]));F(c,10,a);F(c,11,b);a=this.D.sB(81E3,0);b=ZF(a);Hc(b,34,c);this.D.fx(a)}.bind(a))};function Jnf(a,b,c,d,e,f,h){H.call(this);this.qb=h||iu();this.D=a;this.Za=b;this.H=c;this.ub=d;a=new rgb;this.Aa(a);this.F=new FR(a,KR());this.Aa(this.F);this.Ma=new LR(this.F,KR(),this);this.Aa(this.Ma);this.Ea=new LR(this.F,null,this);this.Aa(this.Ea);this.L=new nmf(this.Za,this.F,e,"OfflinePromoControllerLockSessionId");this.Aa(this.L);e=new wnf(this.L,this.Za);a=new ER;this.pb=new ynf(e,new Jrc(a));e=new pnf(this.L);b=L();a=M(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Vf(b,
"gaia_session_id");a=new Vhb(306,b||null,a,!(Aa(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new jVc(a);e=A.product.jf&&oqc&&(Kfb()||Lfb())?e:new sVc;e=new qVc(b,null,e);a=new iVc(a);b=zmc();e=djb(cjb(cmf(bjb(ajb(new $ib,e),a)),b),84).build();a=(new pVc(!1)).get();b=Vf(L(),"jobset");F(a,9,qnf(b));Yib(e.nE()).H=a;this.Ra=e;this.Ra.nI();this.Ta=Wsc(this.qb);this.C=null;this.Na=new Nf(this);this.Aa(this.Na);this.R=new of;this.Aa(this.R);this.ea=new pk(this.mrb,6E4,this);this.Aa(this.ea);
this.Va=!1;this.oa=this.J=null;this.Ia=$z.getInstance();this.O=this.Wa=!1;this.Ba=A.product.jf&&A.product.bh("56.0.2924.87");this.Oa=!1;this.$a=f}y(Jnf,H);n=Jnf.prototype;n.init=function(){var a=this;Sc()&&(Knf(this),Lnf(this),K5(this).then(function(){Mnf(a)},function(b){a.Za.Qc(ne(b))}))};
function Mnf(a){a.F.connect();pf(a.R,a.D.QL(),function(){a.ea.start();K5(a)});pf(a.R,a.D.RL(),function(){a.ea.stop();Knf(a);Lnf(a);K5(a)});a.Na.V(a.Ta,"change",a.h7a);a.Ma.V(LF,a.g7a);a.Ea.V(LF,a.f7a).V(jgb,a.Djb)}
function K5(a){return znf(a.pb).then(function(b){var c=1==b.nm(),d=a.D.eg(),e;if(!(e=a.O)&&(e=!imf())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=M(L(),"promo_show_on_load");if((c=c&&a.Ba&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Wa||(h?a.C||(a.C=new snf(a.qb),a.Aa(a.C),a.Na.V(a.C,"Eh",a.Ewb).V(a.C,"Fh",a.Awb).V(a.C,"Gh",a.k5a),a.C.show(!0),Nnf(a)):a.C&&a.C.show(!1));if(a.ub)if(2==b.nm()||d||h)Onf(a);else if(a.oa&&!vca(b,
a.oa)&&Onf(a),null==a.J){d=Pnf(b);if(!a.Oa)switch(b.nm()){case 1:break;case 3:Qnf(a,"Offline ineligible, other user enabled");break;case 7:Qnf(a,"Offline ineligible, insufficient disk space");break;case 5:Qnf(a,"Offline ineligible, policy disallows");break;case 6:Qnf(a,"Offline ineligible, no extension");break;case 4:Qnf(a,"Offline ineligible, invalid db state");break;default:Qnf(a,"Offline ineligible, unknown reason")}b=1==b.nm()&&a.Ba?cA(d,"Turn on...",a.ryb.bind(a),"info",!1):bA(d,"info",!1);a.J=
a.Ia.postMessage(b)}})}n.mrb=function(){Cpc()||jmf(!0)};
n.Fwb=function(){if(this.D.eg()){var a=Vf(L(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+V(a)+'">'+(T(a)+("</a> to create and edit without interruption. "+('<a href="'+V(Qy("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=U(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=hXa("Your documents are syncing",Ey(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.qb);Pv(b.Pp(),"docs-offline-welcomepromo-bg");this.Aa(b);this.C&&this.C.show(!1)}else this.Wa=!0,tnf(this.C,rnf);K5(this)};n.g7a=function(){K5(this)};n.f7a=function(){K5(this)};n.Djb=function(){this.O=!1;K5(this)};n.Cwb=function(a){this.Za.Qc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=HA(this.$a,"Turning on offline access failed. Please try again later.",this.qb);a.D=!0;a.render();a.setVisible(!0);this.Aa(a)};
n.Ewb=function(){this.H.C(2054);jmf(!1);Fnf(new Enf(this.L,this.F,this.Ra)).then(x(this.Fwb,this),x(this.Cwb,this))};n.Awb=function(){this.D.eg()?this.H.C(2055):lmf(!0);jmf(!1);la.localStorage.setItem("docs-urop","true");this.O=!1;K5(this);var a=new IF,b=new Rfb;Mc(a,jgb,b);fpc(this.F,a)};
function Pnf(a){switch(a.nm()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(D(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function Qnf(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";ag(a.Za,Error("Offline editing disabled: "+b),c);a.Oa=!0}function Onf(a){null!=a.J&&(aA(a.Ia,a.J),a.J=null,a.oa=null)}n.ryb=function(){this.O=!0;K5(this)};n.h7a=function(){Nnf(this)};n.k5a=function(){I(this.C);this.C=null};function Nnf(a){!a.Va&&a.C&&"hidden"!=a.Ta.getState()&&(a.D.eg()?a.H.C(2847):kmf(!0),a.Va=!0)}
function Knf(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.eg()&&(kmf(!1),a.H.C(2847))}function Lnf(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.eg()&&(lmf(!1),a.H.C(2055))};function Rnf(a,b,c,d){H.call(this);this.C=a;this.$a=c;this.J=d;this.L=new of;this.Aa(this.L);this.Ma=new LR(b,KR(),this);this.Aa(this.Ma);this.Na=new Nf(this);this.Aa(this.Na);this.D=Wsc();this.Aa(this.D);this.O=!1;this.Ia=M(L(),"docs-offline-eraoi");this.Ta=M(L(),"docs-offline-eeooip");this.Ea=M(L(),"docs-offline-eiid");this.Va=new ER;this.oa=null;this.Ba=this.R=this.ea=!1;this.H=new pk(this.Ra,Math.floor(27E4*Math.random())+3E4,this);this.Aa(this.H);this.F=[]}v(Rnf,H);
Rnf.prototype.init=function(){(this.Ia||this.Ta)&&this.Ma.V(LF,this.Wa);this.Ea&&(this.oa=Sc(),this.Na.V(this.D,"change",this.Oa));this.F.push(new Snf("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss",this.J));this.F.push(new Snf("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss",this.J))};
function Tnf(a){a.Ba||(pf(a.L,a.C.QL(),function(){return Unf(a)}),pf(a.L,a.C.RL(),function(){return Unf(a)}),a.Ea||a.Na.V(a.D,"change",a.Oa),a.Ba=!0)}Rnf.prototype.Wa=function(){this.O||(this.O=!0,Tnf(this),this.Ia&&("visible"==this.D.getState()||this.H.Xb()||this.H.start()),Unf(this))};
function Unf(a){var b=!1;a.F.forEach(function(c){var d;if(d=!b){d=!1;switch(c.O){case "reload-after-opt-in":d=a.O&&a.C.eg();break;case "reload-after-extension-installation":d=a.ea&&a.C.eg()}d=d&&!c.F}d?(Vnf(c),b=!0):null!=c.C&&(aA(c.H,c.C),c.C=null)})}Rnf.prototype.Ra=function(){this.R||!this.C.eg()||ah(this.$a.dM(),256)||GF(this.J)};
Rnf.prototype.Oa=function(){var a=this,b="visible"==this.D.getState();this.R||(this.R=b&&this.F.some(function(a){return null!=a.C}));b&&0==this.oa&&!this.ea&&Wnf(this).then(function(b){b&&(a.ea=!0,Tnf(a),Unf(a))})};function Wnf(a){return Ioc(a.Va).then(function(){return Sc()})}
function Snf(a,b,c,d){H.call(this);var e=this;this.O=a;this.L=b;this.J=d;this.F=!1;this.C=null;this.H=$z.getInstance();this.D=new av(c);this.Aa(this.D);this.D.setProperty("label","Dismiss");this.D.Qa(!0);this.D.Tb(rr,function(){e.F=!0})}v(Snf,H);function Vnf(a){null==a.C&&(a.C=a.H.postMessage(cA(a.L,"Reload",function(){GF(a.J)},"info",!0,void 0,a.D)))};function Xnf(a,b,c,d,e,f,h){H.call(this);this.C=a;this.J=Ff();Ynf(this);this.F=this.H=null;this.O=h||null;this.D=b;this.Na=new Nf(this);this.Aa(this.Na);this.L=new of;this.Aa(this.L);this.ea=c;this.oa=d;this.Ea=e;this.Ba=f;this.R=!1}y(Xnf,H);n=Xnf.prototype;n.start=function(){var a=this;return this.C.init().then(function(){return Znf(a.C)}).then(function(b){b.connect();a.J.resolve(b);return $nf(a)}).then(function(){a.O&&pf(a.L,a.O.RL(),function(){aof(a)});a.R=!0},function(b){b=ne(b);a.D.F.resolve(b)})};
function mnf(a){if(2!=a.D.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.C);anf(a.D,4);return bof(a.C,10).then(function(a){var b=a.nm();return Bf().then(function(){return 1==b||2==b?L5(this,1):L5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}n.iy=function(){return this.C.iy()};
function $nf(a){return a.C.DR().then(function(b){switch(D(b,1)){case 1:return gof(a.C).then(function(){return L5(this,1)}.bind(a)).then(function(){aof(this)}.bind(a));case 2:return L5(a,2);case 4:return hof(a,D(b,2));case 3:return b=D(b,3),null!=b?iof(a,b):L5(a,2);case 5:return jof(a)}})}n.rDb=function(a){1==this.D.C&&!this.D.H&&0==D(a,2)&&Hf(this.C.DR().then(function(a){var b=this.D;a=D(a,5);b.H=a;b.dispatchEvent("Ch")}.bind(this)),ca().bind(this))};function hof(a){return L5(a,2)}
function iof(a,b){return a.oa?bof(a.C,b).then(function(a){switch(a.nm()){case 1:return L5(this,1);case 2:return L5(this,1);default:return L5(this,2)}}.bind(a)):Bf()}function jof(a){return a.Ea?bof(a.C,2).then(function(a){switch(a.nm()){case 1:case 2:return L5(this,1);default:return L5(this,2)}}.bind(a)):Bf()}
function Ynf(a){a.J.C.then(function(a){this.H=new LR(a,"user_"+this.ea,this);this.Aa(this.H);this.F=new LR(a,null,this);this.Aa(this.F);this.H.V(LF,this.j7a).V(ggb,this.Uvb).V(lgb,this.rDb);this.F.V(LF,this.i7a).V(ggb,this.Cjb)}.bind(a))}n.j7a=function(){Hf(L5(this,1),ca().bind(this))};n.Uvb=function(){Hf(L5(this,2),ca().bind(this))};n.i7a=function(){kof(this)};n.Cjb=function(){kof(this)};
function L5(a,b){return a.iy().then(function(a){anf(this.D,b,a)}.bind(a)).then(function(){return this.C.DR().then(function(a){var b=this.D;a=D(a,5);b.H=a;b.dispatchEvent("Ch")}.bind(this))}.bind(a)).then(ca().bind(a))}function kof(a){a.iy().then(function(a){var b=this.D;b.D=a;b.dispatchEvent("Ch")}.bind(a))}function aof(a){a.Ba&&1==a.D.C&&Hf(lof(a.C),ca().bind(a))};function mof(a){this.D=a}mof.prototype.C=g("D");function nof(a,b,c,d){H.call(this);this.D=Ff();this.qb=d||iu();this.Na=new Nf(this);this.Aa(this.Na);this.H=a;a=new jj(b);a.qc("ouid",this.H);jua()&&a.qc("Debug","true");sj(a,"cd="+c);if(vb(a.D))throw Error("Url contains invalid domain: "+b);this.L=pj(oj(kj(new jj,a.H),a.D),a.J).toString();this.O=aH(a.toString());this.C=null;this.F=this.J=!1}y(nof,H);n=nof.prototype;
n.init=function(){var a=this;this.Na.V(Vu(this.qb),"message",this.NOa);this.C=this.qb.Da("IFRAME",{style:"display:none"});ek(this.C,this.O);this.qb.Ub().body.appendChild(this.C);this.J=!0;Mf(1E4).then(function(){a.F||(a.J=!1,oof(a),pof(a),a.D.reject(Error("Iframe initialization timed out")))});return this.D.C.then()};function Znf(a){var b=new J5;b.setType(1);return M5(a,b).then(function(a){a=new FR(new mof(a.port),"user_"+this.H);this.Aa(a);return a}.bind(a))}
function Ymf(a,b){var c=new J5;c.setType(2);var d=new wmf;F(d,1,b||[]);Hc(c,2,d);return M5(a,c).then(function(a){return Gc(G(a.response,ymf,3),Fmf,1)}.bind(a))}n.DR=function(){var a=new J5;a.setType(4);return M5(this,a).then(function(a){return G(a.response,Amf,4).DR()}.bind(this))};n.iy=function(){var a=new J5;a.setType(10);return M5(this,a).then(function(a){return G(a.response,Bmf,7).iy()}.bind(this))};
function nnf(a,b,c,d){d=void 0===d?!1:d;var e=new J5;e.setType(5);var f=new Gmf;Jc(f,1,b);F(f,2,c);F(f,3,d);Hc(e,3,f);return M5(a,e).then(function(a){return(a=G(a.response,Imf,8))&&G(a,mV,1)||null})}function bof(a,b){var c=new J5;c.setType(6);var d=new Cmf;F(d,1,b);Hc(c,4,d);return M5(a,c).then(function(a){return G(a.response,Dmf,5).iy()})}n.EFb=function(){var a=new J5;a.setType(8);return M5(this,a).then(function(a){return D(G(a.response,Emf,6),1)})};
function gof(a){var b=new J5;b.setType(9);return M5(a,b).then(ca())}function lof(a){var b=new J5;b.setType(11);return M5(a,b).then(ca())}
function M5(a,b){return a.D.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Vf(),[e.port2]);var f=Ff();e.port1.onmessage=x(function(a){a=new qof(a);a.response&&a.response.mA()?(a=a.response.mA(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=Kf(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},ma(void 0)?void 0:3E4);Gf(f.C,function(){e.port1.close();
Lf(h)});return f.C}.bind(a))}n.NOa=function(a){(a=a.Be())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.F&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],le(this,a.close,a),this.D.resolve(a),this.F=!0),oof(this))};function oof(a){a.Na.Lc(Vu(a.qb),"message",a.NOa)}function pof(a){a.C&&(a.qb.Nf(a.C),a.C=null)}n.La=function(){pof(this);nof.xa.La.call(this)};function qof(a){this.response=a.data?new umf(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function rof(a,b,c,d,e,f,h,k,l,q,r,u){var w=this;H.call(this);var z=L();this.F=Vf(z,"docs-offline-lsuid");this.J=new rgb;this.C=new FR(this.J,KR());this.Aa(this.C);this.C.connect();this.H=k;this.Za=b;var J=M(z,"docs-offline-eeooip");if(J||M(z,"docs-offline-eraoi")||M(z,"docs-offline-eiid"))f=new Rnf(a,this.C,e.C,f),this.Aa(f),f.init();J&&(b=new Jnf(a,b,c,d,k,q,u),this.Aa(b),b.init());this.D=new Zmf;this.Aa(this.D);var R=M(z,"docs-offline-eiedp")&&(!M(z,"docs-isd")||M(z,"docs-offline-esdp")),Z=M(z,
"docs-offline-eiecr");sof(this,R,Z).then(function(b){if(b){b=gua("/iframeapi",void 0);b=new nof(w.F,b,1);w.Aa(b);var c=new Xnf(b,w.D,w.F,!1,Z,!1,a);w.Aa(c);c.start();if(R){var d=new Umf(e.F,b,w.C,w.Za);w.Aa(d);d.start();b=new cnf(e,h,b,d,w.D,l,c,w.Za,q,a,r);w.Aa(b);b.init()}}})}y(rof,H);function sof(a,b,c){return b?Bf(!0):c?(b=new nmf(a.Za,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.Aa(b),(new wnf(b,a.Za)).get().then(function(a){return 5==a.C},function(b){a.Za.Qc(ne(b))})):Bf(!1)};function tof(){H.call(this)}y(tof,DK);tof.prototype.C=function(a,b,c,d,e,f,h,k,l,q,r){return new rof(a,b,c,!0,d,e,f,h,k,l,q,r)};JK("offline",tof);
